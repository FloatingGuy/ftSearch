(window.webpackJsonp=window.webpackJsonp||[]).push([[214],{1289:function(t,e,a){},1290:function(t,e,a){},2217:function(t,e,a){"use strict";a.r(e);var i=a(0),o=a(2),r=a(1999),s=a(2063),n=a(2147),l=a(2149),c=a(2150);r.a([n.a,l.a,c.a]);var u={hour:"24hour_detail_slide",day:"15day_detail_slide"},p={hour:"24小时天气",day:"15天天气"},h={name:"WeatherBlock",mixins:[i.n,i.l],props:{source:{type:Object,default:function(){return{}}},data:{type:Object,default:function(){return{}}},item:{type:Object,default:function(){return{}}},pos:{type:Number,default:0},typePos:{type:Number,default:0},blockType:{type:String,default:""},blockData:{type:Array,default:function(){return[]}},blockIndex:{type:Number,default:1},chartConfig:{type:Object,default:function(){return{}}}},data:function(){return{viewWidth:document.querySelector("#body").clientWidth,chartLine:null,blockHeader:p}},computed:{itemWidth:function(){return(this.viewWidth-16-32)/4.5},scrollWidth:function(){return(this.itemWidth+8)*this.blockData.length-8},blockItemInfo:function(){return this.M_genItemInfo(this.blockType,"list")}},mounted:function(){var t=this;this.$nextTick((function(){t.drawLineChart()}))},methods:{drawLineChart:function(){this.chartLine=s.c(this.$refs.chartContainer,"shine");var t={grid:{left:this.scrollWidth/this.blockData.length/2,right:this.scrollWidth/this.blockData.length/2,top:8,bottom:8},yAxis:{type:"value",show:!1,scale:!0}};this.chartLine.setOption(Object.assign(t,this.chartConfig))},reportSlide:function(){var t=this,e=this.item.list.find((function(e){return e.title===u[t.blockType]})),a=e.cookie,i=e.subScene,r=e.title;this.M_clickReport({cookie:a,title:r,clickZone:"hour"==this.blockType?4:5,clickContent:this.blockHeader[this.blockType],expand:i},{actionType:o.g.HOR_TOUCHMOVE,reportId:this.blockItemInfo})},onTapItem:function(t,e){t.jumpInfo&&(this.M_serviceSearchGo(t),this.M_clickReport({clickZone:"hour"==this.blockType?4:5,clickContent:"weather_".concat(this.blockType,"_").concat(e+1),expand:this.M_getJumpSubScene(t.jumpInfo)},t))},onScroll:i.g.debounce((function(){this.reportSlide(),i.a.$emit(i.k.resultExposeAnalysis)}))}},d=(a(3296),a(4)),y={name:"Weather",components:{block:Object(d.a)(h,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{class:"weather-"+t.blockType},[a("div",{staticClass:"title"},[t._v(t._s(t.blockHeader[t.blockType]))]),a("div",{directives:[{name:"arrow-scroll",rawName:"v-arrow-scroll",value:{step:4*t.itemWidth},expression:"{ step: itemWidth * 4 }"}],ref:"container",staticClass:"slide-scroll",attrs:{"data-expose-ratio":.5,"data-report-id":t.M_itemReportId(t.blockItemInfo,t.blockIndex)},on:{scroll:t.onScroll}},[a("div",{staticClass:"slide-inner",style:{width:t.scrollWidth+"px"}},[t._l(t.blockData,(function(e,i){return[a("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],key:i,staticClass:"slide-item",class:{yesterday:"day"==t.blockType&&0==i,active__mask:e.jumpInfo},attrs:{role:"option","data-expose-ratio":.5,"data-report-id":t.M_itemReportId(e,i+1,t.M_getItemPos(t.blockItemInfo))},on:{click:function(a){return a.stopPropagation(),t.onTapItem(e,i)}}},[a("div",{staticClass:"slide-item_top"},[e.hourDesc?a("span",{staticClass:"hour"},[t._v(t._s(e.hourDesc))]):t._e(),e.wday?a("span",{staticClass:"day"},[t._v(t._s(e.wday))]):t._e(),e.dateDesc?a("span",{staticClass:"date"},[t._v(t._s(e.dateDesc))]):t._e(),e.iconUrl?a("ui-image",{staticClass:"weather-icon",attrs:{url:e.iconUrl,type:"img",size:24}}):t._e(),"day"==t.blockType?a("span",{staticClass:"temperature"},[a("span",{staticClass:"ui-aria-hidden"},[t._v("最高气温")]),t._v(t._s(e.temperatureMax))]):t._e()],1),a("div",{staticClass:"slide-item_bottom"},["hour"==t.blockType?a("span",{staticClass:"temperature"},[a("span",{staticClass:"ui-aria-hidden"},[t._v("平均气温")]),t._v(t._s(e.temperature))]):t._e(),"day"==t.blockType?a("span",{staticClass:"temperature"},[a("span",{staticClass:"ui-aria-hidden"},[t._v("最低气温")]),t._v(t._s(e.temperatureMin))]):t._e(),e.airQualityDesc?a("span",{staticClass:"quality"},[t._v(t._s(e.airQualityDesc))]):t._e()])])]})),a("div",{ref:"chartContainer",class:t.blockType+"-chart",style:{width:t.scrollWidth+"px"}})],2)])])}),[],!1,null,"47960ba6",null).exports},mixins:[i.n,i.l],props:{source:{type:Object,default:function(){return{}}},data:{type:Object,default:function(){return{}}},item:{type:Object,default:function(){return{}}},pos:{type:Number,default:0},typePos:{type:Number,default:0}},computed:{weatherData:function(){return this.source.data.weatherData},weatherHour:function(){return this.weatherData.weatherHour},weatherDay:function(){return this.weatherData.weatherDay},hoursChartConfig:function(){var t=[],e=[];return this.weatherHour.forEach((function(a,i){t.push(0===i?{value:a.temperature,itemStyle:{color:"var(--select-point-color)"}}:a.temperature),e.push(a.hourDesc)})),{xAxis:{type:"category",boundaryGap:!1,data:e,show:!1},series:[{name:"平均气温",type:"line",data:t,smooth:.25,symbolSize:6,itemStyle:{color:"var(--default-point-color)"},lineStyle:{color:"var(--FG-2)",width:1},silent:!0}]}},daysChartConfig:function(){var t=[],e=[],a=[],i=[],o=[];return this.weatherDay.forEach((function(r,s){o.push(r.wday),0===s?(t.push("-"),e.push("-"),a.push(r.temperatureMax),i.push(r.temperatureMin)):1===s?(t.push({value:r.temperatureMax,itemStyle:{color:"var(--select-point-color)"}}),e.push({value:r.temperatureMin,itemStyle:{color:"var(--select-point-color)"}}),a.push({value:r.temperatureMax,itemStyle:{opacity:0}}),i.push({value:r.temperatureMin,itemStyle:{opacity:0}})):(t.push(r.temperatureMax),e.push(r.temperatureMin),a.push("-"),i.push("-"))})),{xAxis:{type:"category",boundaryGap:!1,data:o,show:!1},series:[{name:"最高气温",type:"line",data:t,smooth:.25,symbolSize:6,itemStyle:{color:"var(--default-point-color)"},lineStyle:{color:"var(--FG-2)",width:1},silent:!0},{name:"最低气温",type:"line",data:e,smooth:.25,symbolSize:6,itemStyle:{color:"var(--default-point-color)"},lineStyle:{color:"var(--FG-3)",width:1},silent:!0},{name:"昨天到今天最高气温",type:"line",data:a,smooth:.25,symbolSize:6,itemStyle:{color:"var(--default-point-color)"},lineStyle:{color:"var(--FG-3)",width:1,dashOffset:4,type:[6,4]},silent:!0},{name:"昨天到今天最低气温",type:"line",data:i,smooth:.25,symbolSize:6,itemStyle:{color:"var(--default-point-color)"},lineStyle:{color:"var(--FG-3)",width:1,dashOffset:4,type:[6,4]},silent:!0}]}}}},m=(a(3276),Object(d.a)(y,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"weather-wrapper"},[a("block",t._b({attrs:{"block-type":"hour","block-data":t.weatherData.weatherHour,"chart-config":t.hoursChartConfig,"block-index":0}},"block",t.$props,!1)),a("block",t._b({attrs:{"block-type":"day","block-data":t.weatherData.weatherDay,"chart-config":t.daysChartConfig,"block-index":1}},"block",t.$props,!1))],1)}),[],!1,null,"35a5e8b8",null));e.default=m.exports},3276:function(t,e,a){"use strict";a(1290)},3296:function(t,e,a){"use strict";a(1289)}}]);