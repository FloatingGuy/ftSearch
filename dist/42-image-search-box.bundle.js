(window.webpackJsonp=window.webpackJsonp||[]).push([[179],{1004:function(t,e,i){},1005:function(t,e,i){},1006:function(t,e,i){},1008:function(t,e,i){},1010:function(t,e,i){},1012:function(t,e,i){},1013:function(t,e,i){},1014:function(t,e,i){},1015:function(t,e,i){},1018:function(t,e,i){},1019:function(t,e,i){},1083:function(t,e,i){"use strict";i(992)},1112:function(t,e,i){"use strict";i(1015)},1113:function(t,e,i){"use strict";i(1019)},1767:function(t,e,i){"use strict";i(993)},1772:function(t,e,i){"use strict";i(996)},1773:function(t,e,i){"use strict";i(997)},1775:function(t,e,i){"use strict";i(1004)},1776:function(t,e,i){"use strict";i(1005)},1777:function(t,e,i){"use strict";i(1006)},1778:function(t,e,i){"use strict";i(1008)},1779:function(t,e,i){"use strict";i(1010)},1780:function(t,e,i){"use strict";i(1012)},1781:function(t,e,i){"use strict";i(1013)},1785:function(t,e,i){"use strict";i(1014)},1787:function(t,e,i){"use strict";i(1018)},2165:function(t,e,i){"use strict";i.r(e);var a=i(24),n=i.n(a),s=i(1),r=i.n(s),o=i(0),c=(i(46),{ShowType:{EMPTYDATA_NORMAL:1,EMPTYDATA_SMALL:2,QRCODEINFO_ITEM:11,QRCODEINFO_TEXT:12,QRCODEINFO_NOTSUPPORT:13}}),l=i(2),u={watch:{data:function(){var t=this;this.M_isExposed=!1,this.$nextTick((function(){t.M_expose()}))}},created:function(){this.M_isExposed=!1},data:function(){return{imageSearchEnum:c}},mounted:function(){var t,e=this;setTimeout((function(){e.M_expose()})),window.addEventListener("scroll",(function(){clearTimeout(t),t=setTimeout(e.M_expose,300)}),!1)},methods:{M_expose:function(){if(!this.M_isExposed&&this.exposeReport){var t=window.innerHeight||document.documentElement.clientHeight,e=this.$el.getBoundingClientRect();e.top+e.height<t&&(this.exposeReport&&this.exposeReport(),this.M_isExposed=!0)}}}},p={props:["src","getMainColorImg","imgData","showW","showH","showAll"],computed:{orientationStyle:function(){var t=this.imgData,e=t.width,i=t.height,a=0,n=0;return 1!=t.orientation&&3!=t.orientation||(e=t.height,i=t.width,1==t.orientation?n=e:a=i),{transform:"translate(".concat(a/16,"rem, ").concat(n/16,"rem) rotate(").concat(-90*t.orientation||0,"deg)"),width:"".concat(e/16,"rem"),height:"".concat(i/16,"rem")}},offsetStyle:function(){var t=this.imgData,e=-t.relativeMinx*t.width,i=-t.relativeMiny*t.height;return{transform:"translate(".concat(e.toFixed(2)/16,"rem, ").concat(i.toFixed(2)/16,"rem)")}},clipStyle:function(){var t=this.imgData,e=(t.relativeMaxx-t.relativeMinx)*t.width,i=(t.relativeMaxy-t.relativeMiny)*t.height;return{cW:e,cH:i,width:"".concat(e/16,"rem"),height:"".concat(i/16,"rem")}},scaleStyle:function(){var t=this.imgData;if(!t||void 0===t.width||void 0===t.relativeMinx)return null;var e=this.clipStyle.cW,i=this.clipStyle.cH,a=this.showW||e,n=this.showH||i,s=Math.min(a/e,n/i).toFixed(2),r=(n-i*s)/2;return{transform:"translate(".concat((a-e*s)/2/16,"rem, ").concat(r/16,"rem) scale(").concat(s,")")}}},methods:{}},h=(i(1083),i(4)),d=Object(h.a)(p,(function(){var t=this.$createElement,e=this._self._c||t;return this.scaleStyle?e("span",{staticClass:"clip-image-scale",style:this.scaleStyle},[e("span",{staticClass:"clip-image-clip",style:this.clipStyle},[e("span",{staticClass:"clip-image-offset",style:this.offsetStyle},[e("img",{staticClass:"clip-image-orientation",style:this.orientationStyle,attrs:{src:this.src}})])])]):e("span",{staticClass:"clip-image-placeholder",style:{backgroundImage:"url('"+this.src+"')"}})}),[],!1,null,"ea4d26a6",null).exports,m=i(3),f=i(1765),g=i.n(f),v=(i(1766),i(59)),_=function(t,e){var i=t.reqKey,a=t.action,n=t.params;return i=i||o.b.imageSearchReqKey,a=a||o.b.extParams.action||"chatimgsearch_by_req_key",o.i.getChatSearchData({type:l.u.IMAGE,params:{reqKey:i,action:a,content:JSON.stringify(Object.assign({req_key:i,action:a,sessionid64:o.b.sessionId},n))}},e)};function y(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function b(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?y(Object(i),!0).forEach((function(e){r()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):y(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var C=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1;return Math.abs(t-e)>i},w={components:{},mixins:[u],props:{title:{type:String},show:{type:Boolean,default:!1},imgCutObject:{type:Object},cropList:{type:Array,default:function(){return[]}},cropIndex:{type:Number,default:0},researchType:{type:Number,default:0},mode:{type:Number,default:4},hideDots:{type:Boolean},isQuerySpecific:{type:Boolean,default:!1}},data:function(){return{scrollTop:0,cropper:"",screenWidth:document.body.clientWidth,screenHeight:document.body.clientHeight,loading:!1,x:0,y:0,width:0,height:0,isCrop:!1,timeOut:null,timeOutPic:null,isShowPic:!0,isShowTips:!0,imgCutObj:this.imgCutObject||this.cropList[this.cropIndex]||{},cropReady:!1,currentDotIndex:this.cropIndex,cropStatus:{ratio:1,imgX:0,imgY:0,left:0,top:0,width:0,height:0},minCropBoxWidth:0,minCropBoxHeight:0,animateHandler:null,isAutoCrop:!0,isChoosing:!1,cropReported:!1,chooseReported:!1,lastShow:void 0,lastLoading:void 0}},computed:{dots:function(){var t=this;return this.cropList.map((function(e){return t.getCropAreaData(e.imgObj)}))}},watch:{show:function(t){t?(this.onCreated(),this.chooseArea(this.dots[this.cropIndex],this.cropIndex,!1)):this.onDestroy(),this.setupClientBehavior(t,!1)},loading:function(t){t&&this.setupClientBehavior(!1,!0)}},mounted:function(){var t=this;this.$nextTick((function(){t.initCropper(),v.a.on(t.handleNavCtrl),o.a.$on(o.k.GLOBAL_ANIMATION_LOADING,t.handleLoadingPage)}))},beforeDestroy:function(){this.onDestroy(),this.setupClientBehavior(!1,!1),v.a.off(this.handleNavCtrl),o.a.$off(o.k.GLOBAL_ANIMATION_LOADING,this.handleLoadingPage)},methods:{onCreated:function(){var t=this;this.scrollTop=document.documentElement.scrollTop,document.documentElement.scrollTop=0,document.documentElement.classList.add("oh"),this.exposeReport=null,this.isShowTips=!0,this.timeOut=setTimeout((function(){t.isShowTips=!1}),5e3),this.timeOutPic=setTimeout((function(){document.getElementsByClassName("cropper-canvas")&&(t.isShowPic=!1),t.isShowPic||(t.timeOutPic=null)}),300),this.isAutoCrop=!0,this.isChoosing=!1,this.cropReported=!1,this.chooseReported=!1},onDestroy:function(){document.documentElement.scrollTop=this.scrollTop,document.documentElement.classList.remove("oh"),clearTimeout(this.timeOut),clearTimeout(this.timeOutPic),this.timeOut=null,this.timeOutPic=null},researchImg:function(){var t=this;this.loading=!0,o.o.hasSearchBarForSpecialSearchScene&&o.i.setInputBar({query:""}),o.a.$emit(o.k.IMAGE_SEARCH_PIC_CUT_HIDE,!0,this.isCrop);var e="".concat(o.b.imageSearchReqKey,"_crop_").concat(Date.parse(new Date));o.a.$emit(o.k.GLOBAL_ANIMATION_LOADING,!0,"识别中"),_({action:"chatimgsearch_crop",reqKey:e,params:{orientation:this.imgCutObj.imgObj.orientation,research_type:+this.researchType,mode:+this.mode,origin_req_key:o.b.imageSearchReqKey,match_obj:{relative_minx:this.x/this.imgCutObj.imgObj.width,relative_miny:this.y/this.imgCutObj.imgObj.height,relative_maxx:this.width/this.imgCutObj.imgObj.width+this.x/this.imgCutObj.imgObj.width,relative_maxy:this.height/this.imgCutObj.imgObj.height+this.y/this.imgCutObj.imgObj.height}}}).then((function(t){o.a.$emit(o.k.GOTO,Object.assign({page:l.f.RESULT,query:"",specialSearchArgs:{type:l.u.IMAGE,reqKey:e,action:"chatimgsearch_crop_by_req_key",params:{origin_req_key:o.b.imageSearchReqKey,fromReqType:1,fromReqKey:e}}}))})).catch((function(t){})).finally((function(){t.loading=!1}))},initCropper:function(){var t,e,i,a,n=this;this.cropper=new g.a(n.$refs.img,{viewMode:1,guides:!0,checkCrossOrigin:!0,dragMode:"move",cropBoxMovable:!0,cropBoxResizable:!0,autoCrop:!1,minCropBoxWidth:n.minCropBoxWidth,minCropBoxHeight:n.minCropBoxHeight,minContainerWidth:n.screenWidth-32,minContainerHeight:n.screenHeight-172,minCanvasWidth:n.screenWidth-32,minCanvasHeight:n.screenHeight-172,center:!1,ready:function(){n.cropper.crop();var t=n.dots[n.cropIndex];if(t)n.cropper.setData(t),n.x=t.x,n.y=t.y,n.width=t.width,n.height=t.height,n.setDotPosition(),n.cropReady=!0;else{var e=n.imgCutObj.imgObj||{},i=e.width,a=e.height;n.cropStatus.width=.8*i||100,n.cropStatus.height=.8*a||100}},cropmove:function(){var t=n.cropper.getCropBoxData();t.top>n.screenHeight-172-t.height&&n.cropper.setCropBoxData({top:n.screenHeight-172-t.height}),n.setDotPosition(),n.currentDotIndex=-1},cropend:function(s){n.x=t,n.y=e,n.width=i,n.height=a,n.isCrop=!0},crop:function(s){t=s.detail.x,e=s.detail.y,i=s.detail.width,a=s.detail.height,!n.show||n.isAutoCrop||n.isChoosing||n.cropReported||4!==n.mode||(o.f.imageSearch.click(b(b({},n.imgCutObject),{},{clickZone:5})),n.cropReported=!0),n.isAutoCrop=!1},zoom:function(t){var e=t.detail.ratio;C(n.cropStatus.ratio,e)&&(n.setDotPosition(e),n.currentDotIndex=-1)}})},clickChange:function(){o.a.$emit(o.k.IMAGE_SEARCH_PIC_CUT_HIDE,!1,this.isCrop),o.a.$emit(o.k.IMAGE_SEARCH_PIC_CUT_LOAD,!1)},getCropAreaData:function(t){var e={x:t.relativeMinx*t.width,y:t.relativeMiny*t.height,width:(t.relativeMaxx-t.relativeMinx)*t.width,height:(t.relativeMaxy-t.relativeMiny)*t.height},i=this.cropStatus,a={centerX:e.x+e.width/2,centerY:e.y+e.height/2,left:(e.x+e.width/2)*i.ratio+i.imgX,top:(e.y+e.height/2)*i.ratio+i.imgY};return b(b(b({},e),a),{},{rotate:0,scaleX:1,scaleY:1,hidden:a.left-14<0||a.left+14>this.screenWidth-32||a.top-14<0||a.top+14>this.screenHeight-172||a.left+14>i.left&&a.top+14>i.top&&a.left-14<i.left+i.width&&a.top-14<i.top+i.height})},chooseArea:function(t,e){var i=this,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.currentDotIndex=e;var n,s=150,r={x:t.centerX,y:t.centerY,width:this.minCropBoxWidth,height:this.minCropBoxHeight},c=function(e){r.x=t.centerX+(t.x-t.centerX)*e,r.y=t.centerY+(t.y-t.centerY)*e,r.width=i.minCropBoxWidth+(t.width-i.minCropBoxWidth)*e,r.height=i.minCropBoxHeight+(t.height-i.minCropBoxHeight)*e},l=function(){i.cropper.setData(b(b({},r),{},{scaleX:1,scaleY:1,rotate:0})),i.x=r.x,i.y=r.y,i.width=r.width,i.height=r.height},u=function t(e){i.isChoosing=!0;var r=e-(n=n||e);a&&r<s?(c(r/s),l(),i.setDotPosition(),i.animateHandler=requestAnimationFrame(t)):a&&r===s||(c(1),l(),i.setDotPosition(),i.isChoosing=!1)};this.animateHandler&&cancelAnimationFrame(this.animateHandler),this.animateHandler=requestAnimationFrame(u),this.chooseReported||4!==this.mode||(o.f.imageSearch.click(b(b({},this.imgCutObject),{},{clickZone:6})),this.chooseReported=!0)},setDotPosition:function(t){var e=this.cropper.getCanvasData(),i=this.cropper.getCropBoxData(),a=t||e.width/e.naturalWidth;(C(e.top,this.cropStatus.imgY)||C(e.left,this.cropStatus.imgX)||C(i.left,this.cropStatus.left)||C(i.top,this.cropStatus.top)||C(i.width,this.cropStatus.width)||C(i.height,this.cropStatus.height)||C(t,this.cropStatus.ratio))&&(this.cropStatus=b(b({},i),{},{imgX:e.left,imgY:e.top,ratio:a}))},setupClientBehavior:function(t,e){if(t!==this.lastShow||e!==this.lastLoading)if(this.lastShow=t,this.lastLoading=e,o.o.hasSearchBarForSpecialSearchScene){o.i.setPopGestureEnabled({enabled:!t});var i=this.isQuerySpecific?void 0:"placeholderColor";t?v.a.configNavBar({hideSearchBar:!0,nativeConfig:{title:this.title,searchBarTextColor:i},navButtonConfig:{leftBarButtonType:"exit"}}):v.a.configNavBar({hideSearchBar:e,navButtonConfig:{leftBarButtonType:"back"},nativeConfig:{title:" ",searchBarTextColor:i}})}else v.a.changeBackBtnType({leftBarButtonType:t?"back":"exit"})},handleNavCtrl:function(t){this.show?this.clickChange():t()},handleLoadingPage:function(t){t||this.setupClientBehavior(!1,!1)}}},k=(i(1767),Object(h.a)(w,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"pic-cut"},[i("div",{class:{"pic-cut-content":!0,"cropper-point-width-tiny":t.cropStatus.width<5,"cropper-point-height-tiny":t.cropStatus.height<5,"cropper-point-width-sm":t.cropStatus.width>=5&&t.cropStatus.width<16,"cropper-point-height-sm":t.cropStatus.height>=5&&t.cropStatus.height<16}},[t.isShowPic?i("div",{staticClass:"placeholder-pic"}):t._e(),i("img",{ref:"img",staticClass:"pic-cut__placeholder-img",attrs:{src:0==t.imgCutObj.imgObj.orientation?t.imgCutObj.thumbUrl:t.imgCutObj.spinUrl}}),t._l(t.dots,(function(e,a){return i("i",{directives:[{name:"show",rawName:"v-show",value:t.cropReady&&t.dots.length>1,expression:"cropReady && dots.length > 1"}],key:a,staticClass:"pic-cut__dot",style:{top:e.top+"px",left:e.left+"px"},attrs:{hidden:t.hideDots||a===t.currentDotIndex||e.hidden},on:{click:function(i){return t.chooseArea(e,a)}}})}))],2),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowTips,expression:"isShowTips"}],staticClass:"pic-cut__tips"},[t._t("default")],2),i("div",{staticClass:"opr-area-item opr-area-item__back",attrs:{role:"button",title:"返回"}},[i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"back-opr opr-item active__link",on:{click:t.clickChange}})]),i("div",{staticClass:"opr-area-item opr-area-item__search",attrs:{role:"button",title:"搜索"}},[i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"search-opr opr-item active__link",on:{click:t.researchImg}})])])}),[],!1,null,null,null).exports);function S(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function O(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?S(Object(i),!0).forEach((function(e){r()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):S(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var x=window.innerWidth||document.documentElement.clientWidth,I=window.innerHeight||document.documentElement.clientHeight,j={components:{clipImage:d,picCut:k},mixins:[u],props:{data:{type:Array,required:!0},cropSearch:{type:Number,default:1},cropList:{type:Array,default:function(){return[]}},isQuerySpecific:{type:Boolean,default:!1},extActions:{type:Array,default:function(){return[]}}},data:function(){return{cacheImageSrc:decodeURIComponent(o.b.queryString.cacheImageSrc||""),currentIndex:0,previewData:null,count:0,itemsEl:[],start:{},move:{},end:{},prevIndex:0,offset:0,width:0,height:0,threshold:50,duration:300,mainColor:"",showPicCut:!1,cacheCropList:this.cropList,picCutTitle:""}},computed:{imgWrpSizes:function(){var t=this;return this.$props.data.map((function(e){return t.computedCoverSize(e.imgObj)}))},cropIndex:function(){var t=(this.data[this.currentIndex]||{}).docID;return this.cropList.findIndex((function(e){return e.docID===t}))},picCutImgObj:function(){try{return Object.assign({spinUrl:this.data[this.currentIndex].thumbUrl},this.data[this.currentIndex])}catch(t){return null}}},watch:{data:function(t,e){var i=this;t&&t.length&&e&&e.length&&t[0].thumbUrl!==e[0].thumbUrl&&(this.cacheImageSrc=""),this.$nextTick((function(){i.itemsEl=i.$refs.swiper.children,i.count=i.data.length,i.swipeInit()}))}},mounted:function(){var t=this;m.a.$on(m.b.IMAGE_SEARCH_PIC_CUT_HIDE,(function(e,i){t.showPicCut=!1,e?(o.f.imageSearch.click(O(O({},t.data[0]),{},{clickZone:4})),t.currentIndex=0,t.prevIndex=0,t.swipeInit(),t.activate(0),t.show(0)):o.f.imageSearch.click(O(O({},t.data[t.currentIndex]),{},{clickZone:3}))})),this.$nextTick((function(){x=window.innerWidth||document.documentElement.clientWidth,I=window.innerHeight||document.documentElement.clientHeight,t.swiperEl=t.$refs.swiper,t.itemsEl=t.$refs.swiper.children,t.count=t.data.length,t.swipeInit(),t.activate(0)}))},destroyed:function(){m.a.$off(m.b.IMAGE_SEARCH_PIC_CUT_HIDE,{})},methods:{onCutAction:function(t){this.showPicCut=!0,this.picCutTitle="调整搜索区域",o.f.imageSearch.click(O(O({},this.data[this.currentIndex]),{},{clickZone:2,clickContent:t?this.picCutTitle:""}))},handleGetMainColor:function(t){this.mainColor=t.colorList[0].color},exposeReport:function(){o.f.imageSearch.expose(this.$props.data)},computedCoverSize:function(t){if(!t||void 0===t.width||void 0===t.relativeMinx)return{};var e=(t.relativeMaxx-t.relativeMinx)*t.width/((t.relativeMaxy-t.relativeMiny)*t.height),i=0,a=0,n=1;return e>1?i=(a=96)/Math.min(4/3,e):n=96/(i=(a=96)/Math.max(3/4,e)),{width:a,height:i,scale:n}},imageSearch:function(t){var e=this.$props.data[t];this.$store.commit({type:"removeExtReqParams",key:["cookies"]}),this.$store.commit({type:"result/generateGetSearchRid",reset:!0},{root:!0}),m.a.$emit(m.b.GOTO,Object.assign({page:l.f.RESULT,query:"",specialSearchArgs:{type:l.u.IMAGE,action:"chatimgsearch_switch",reqKey:e.reqKey,params:{imageItem:e}}}))},onTapPreview:function(){this.$data.previewData=null},showPreview:function(t){this.$data.previewData={thumbUrl:this.cacheImageSrc||t.thumbUrl,imgObj:t.imgObj,showW:x,showH:I}},swipeInit:function(){var t=88*(this.count-1)+128;this.swiperEl.style.width="".concat(t,"px"),this.swiperEl.style.height="".concat(96,"px")},swipeStart:function(t){var e=this;1!=e.count&&(e.start.x=t.changedTouches[0].pageX,e.start.y=t.changedTouches[0].pageY,e.swiperEl.style["-webkit-transition"]="none",e.swiperEl.style.transition="none")},swipeMove:function(t){var e=this;if(1!=e.count){e.move.x=t.changedTouches[0].pageX;var i=e.move.x-e.start.x,a="translate3d(".concat(i-e.offset,"px, 0, 0)");e.swiperEl.style["-webkit-transform"]=a,e.swiperEl.style.transform=a,e.itemsEl.forEach((function(t){var e=t.getBoundingClientRect(),i=e.left+e.width/2;if(i>x/2-108&&i<x/2+108){var a=1-Math.abs(i-x/2)/108;t.style.transform="scale(".concat(.75+.25*a,")"),t.style.margin="0 ".concat(20*a-4,"px"),t.style.opacity=.3+.7*a,t.style.transition="none"}})),t.preventDefault()}},swipeEnd:function(t){var e=this;if(1!=e.count){e.itemsEl.forEach((function(t){t.style.transform=null,t.style.transition=null,t.style.margin=null,t.style.opacity=null})),e.end.x=t.changedTouches[0].pageX,e.end.y=t.changedTouches[0].pageY;var i=e.end.x-e.start.x;if(e.prevIndex=e.currentIndex,Math.abs(i)>88){var a=-(i-e.offset)/88;e.currentIndex=Math.floor(Math.min(e.count-1,Math.max(0,a)))}else i>e.threshold?(e.currentIndex=0===e.currentIndex?0:--e.currentIndex,t.preventDefault()):i<-e.threshold&&(e.currentIndex=e.currentIndex<e.count-1?++e.currentIndex:e.currentIndex,t.preventDefault());o.f.imageSearch.click(O(O({},this.data[this.currentIndex]),{},{clickZone:1})),e.show(e.currentIndex)}},show:function(t){var e=this;this.offset=88*t;var i="translate3d(-".concat(this.offset,"px, 0, 0)"),a="".concat(this.duration,"ms");this.swiperEl.style["-webkit-transition"]=a,this.swiperEl.style.transition=a,this.swiperEl.style["-webkit-transform"]=i,this.swiperEl.style.transform=i,e.goto=-1,e.currentIndex!=e.prevIndex&&(this.activate(e.currentIndex),this.imageSearch(e.currentIndex))},activate:function(t){Array.prototype.forEach.call(this.itemsEl,(function(e,i){e.classList.remove("on"),t===i&&e.classList.add("on")}))},go:function(t,e){if(!this.cropSearch||this.currentIndex!=t){if(t===this.currentIndex)return o.f.imageSearch.click(e),void this.showPreview(e);if(t<0||t>this.count-1)return;return this.prevIndex=this.currentIndex,this.currentIndex=t,this.goto=t,this.show(this.currentIndex),o.f.imageSearch.click(O(O({},e),{},{clickZone:1})),this}this.onCutAction(!1)}}},T=(i(3066),Object(h.a)(j,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"image-list"},[i("div",{ref:"swiper",staticClass:"image-list-swiper",on:{touchstart:t.swipeStart,touchmove:t.swipeMove,touchend:t.swipeEnd}},t._l(t.data,(function(e,a){return i("span",{key:e.thumbUrl+a,staticClass:"img-wrp",class:{on:0===a},style:{width:t.imgWrpSizes[a].width+"px",height:t.imgWrpSizes[a].height+"px"},attrs:{role:"button","aria-label":"图片"},on:{click:function(i){return i.stopPropagation(),t.go(a,e)}}},[i("span",{staticClass:"img-wrp-inner",style:{width:t.imgWrpSizes[a].width+"px",height:t.imgWrpSizes[a].height+"px",transform:"scale("+t.imgWrpSizes[a].scale+")",backgroundColor:""+t.mainColor}},[i("clip-image",{attrs:{"get-main-color-img":e.thumbUrl,src:t.cacheImageSrc||e.thumbUrl,"img-data":e.imgObj,"show-w":t.imgWrpSizes[a].width,"show-h":t.imgWrpSizes[a].height},on:{getColor:t.handleGetMainColor}})],1)])})),0),t.cropSearch?i("div",{staticClass:"image-cut-tips-wrp"},[i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"image-cut-tips active__link expand-hotspot",attrs:{role:"button"},on:{click:function(e){return e.stopPropagation(),t.onCutAction(!0)}}},[i("i",{staticClass:"image-cut-icon"}),i("span",{staticClass:"image-cut-word"},[t._v(t._s("调整搜索区域"))])]),t._l(t.extActions,(function(e){return[i("span",{key:"divider_"+e.title,staticClass:"image-cut-divider"}),i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],key:e.title,staticClass:"image-cut-tips active__link expand-hotspot",attrs:{role:"button"},on:{click:function(t){return t.stopPropagation(),e.click.apply(null,arguments)}}},[e.iconUrl?i("ui-image",{attrs:{size:20,color:"var(--FG-1)",url:e.iconUrl}}):t._e(),i("span",{staticClass:"image-cut-word"},[t._v(t._s(e.title))])],1)]}))],2):t._e(),i("transition",{attrs:{name:"showMask"}},[t.previewData?i("div",{staticClass:"preview",on:{click:function(e){return e.stopPropagation(),t.onTapPreview.apply(null,arguments)},touchmove:function(t){t.preventDefault()}}},[i("div",{staticClass:"preview-inner",style:{height:t.previewData.showH+"px"}},[i("clip-image",{attrs:{src:t.cacheImageSrc||t.previewData.thumbUrl,"img-data":t.previewData.imgObj,"show-w":t.previewData.showW,"show-h":t.previewData.showH,"show-all":!0}})],1)]):t._e()]),t.picCutImgObj?i("pic-cut",{attrs:{title:t.picCutTitle,"img-cut-object":t.picCutImgObj,show:t.showPicCut,"crop-list":t.cropList,"crop-index":t.cropIndex,mode:4,"is-query-specific":t.isQuerySpecific}},[t.cropList.length>1?i("p",[t._v("轻触小圆点或拖动裁剪框，框选物体搜索")]):i("p",[t._v("调整选框，框选物体或者文字进行搜索")])]):t._e()],1)}),[],!1,null,"0983d18f",null).exports);function P(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function D(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?P(Object(i),!0).forEach((function(e){r()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):P(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var B={components:{imageScale:i(820).a},mixins:[o.n,u],props:{data:{type:Object,required:!0},currentBaike:{type:Object,required:!0},feedback:{type:Object}},data:function(){return{canFold:!1,words:[]}},computed:{thumbs:function(){var t=(this.currentBaike.thumbInfo||{}).thumbs,e=void 0===t?[]:t;return e},showThumbs:function(){return this.thumbs.length<3?this.thumbs:this.thumbs.slice(0,3)},thumbUrls:function(){return this.thumbs.map((function(t){return t.url}))},pageInfos:function(){return this.thumbs.map((function(t){return t.pageInfo||{}}))},moreInfo:function(){return this.currentBaike.thumbInfo&&this.currentBaike.thumbInfo.moreInfo},baikeSource:function(){return this.currentBaike.baikeSource&&this.currentBaike.baikeSource.title?"".concat(this.currentBaike.baikeSource.title,"："):""}},watch:{data:function(){this._getIfNeedFold()},currentBaike:function(){var t=this;this.$nextTick((function(){t._getIfNeedFold()}))}},created:function(){},mounted:function(){var t=this;this.$nextTick((function(){t._getIfNeedFold()}))},methods:{_getIfNeedFold:function(){var t=this.$refs.info;t&&(1==this.thumbs.length?t.clientHeight>120&&(this.$data.canFold=!0):t.clientHeight>75&&(this.$data.canFold=!0))},exposeReport:function(){o.f.imageSearch.expose(this.showThumbs)},onTapExpand:function(){this.currentBaike.baikeJumpInfo?(this.M_go(this.currentBaike.baikeJumpInfo),o.f.imageSearch.click(D(D({},this.$props.currentBaike),{},{clickZone:3,clickContent:"完整百科"}))):(this.$data.canFold=!1,o.f.imageSearch.click(D(D({},this.$props.currentBaike),{},{clickZone:2,clickContent:"展开"})))},onTapThumb:function(t){var e=this.thumbs[t];if(this.moreInfo&&t===this.showThumbs.length-1&&1!==this.showThumbs.length)this.M_go(this.moreInfo.jumpInfo);else{var i=this.$store.state.result.mpImageSearchData||{};o.g.WeixinJSBridgeInvoke("imagePreview",{current:e.url,urls:this.thumbUrls,enableBottomBar:!0,pageInfos:this.pageInfos,reqKey:i.reqKey,scene:o.b.scene})}o.f.imageSearch.click(D(D({},e),{},{clickZone:1}))},onTapBaike:function(){this.currentBaike.baikeJumpInfo?(this.M_go(this.currentBaike.baikeJumpInfo),o.f.imageSearch.click(D(D({},this.$props.currentBaike),{},{clickZone:3,clickContent:this.currentBaike.baikeSource&&this.currentBaike.baikeSource.title?this.currentBaike.baikeSource.title:"百科信息"}))):(m.a.$emit(o.k.showToast,{text:"没有更多百科信息"}),o.f.imageSearch.click(D(D({},this.$props.currentBaike),{},{clickZone:5,clickContent:this.currentBaike.baikeSource&&this.currentBaike.baikeSource.title?this.currentBaike.baikeSource.title:"百科信息"})))},onTapAttrSource:function(){this.currentBaike.sourceJumpInfo?(this.M_go(this.currentBaike.sourceJumpInfo),o.f.imageSearch.click(D(D({},this.$props.currentBaike),{},{clickZone:4,clickContent:this.currentBaike.attrSource&&this.currentBaike.attrSource.title?this.currentBaike.attrSource.title:"百科属性"}))):(m.a.$emit(o.k.showToast,{text:"没有更多百科信息"}),o.f.imageSearch.click(D(D({},this.$props.currentBaike),{},{clickZone:5,clickContent:this.currentBaike.attrSource&&this.currentBaike.attrSource.title?this.currentBaike.attrSource.title:"百科属性"})))}}},E=(i(3067),Object(h.a)(B,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"baike-block"},[i("div",{staticClass:"line"},[i("div",{staticClass:"line__item primary"},[t.currentBaike.title?i("div",{staticClass:"title",domProps:{innerHTML:t._s(t.xss(t.currentBaike.title))}}):t._e()])]),t.currentBaike.desc?i("p",{staticClass:"desc"},[t._v("\n    "+t._s(t.currentBaike.desc)+"\n  ")]):t._e(),i("div",{staticClass:"pic-box",class:{single:1==t.thumbs.length}},[t.showThumbs.length?i("div",{staticClass:"pic-list"},t._l(t.showThumbs,(function(e,a){return i("div",{key:t.currentBaike.title+a,staticClass:"pic-wrap",attrs:{role:"option","aria-label":"图片，"+(t.moreInfo&&a===t.showThumbs.length-1&&1!==t.showThumbs.length?t.moreInfo.text+"，":"")+"按钮"},on:{click:function(e){return t.onTapThumb(a)}}},[i("div",{staticClass:"pic"},[i("imageScale",{attrs:{url:e.url}}),t.moreInfo&&a===t.showThumbs.length-1&&1!==t.showThumbs.length?[i("div",{staticClass:"pic-more"},[t._v("\n              "+t._s(t.moreInfo.text)+"\n            ")])]:t._e()],2)])})),0):t._e(),t.currentBaike.detail?i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],ref:"info",staticClass:"fold-box active__link",on:{click:function(e){return e.stopPropagation(),t.onTapBaike.apply(null,arguments)}}},[i("div",{staticClass:"fold-box-inner",class:{fold:t.canFold},attrs:{role:"button"}},[i("div",{staticClass:"fold-box-content"},[t._v(t._s(t.baikeSource)+t._s(t.currentBaike.detail))]),i("a",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],class:["fold-box-expand",t.currentBaike.baikeJumpInfo?"fold-box-expand-jump":""],on:{click:function(e){return e.stopPropagation(),t.onTapExpand.apply(null,arguments)}}},[t.currentBaike.baikeJumpInfo?i("span",{staticClass:"ui-aria-hidden"},[t._v("查看")]):t._e(),i("em",{directives:[{name:"active",rawName:"v-active"}],staticClass:"active__link",staticStyle:{"white-space":"nowrap"}},[t._v("\n            "+t._s(t.currentBaike.baikeJumpInfo?"完整百科":"展开")+"\n          ")])])])]):t._e()]),t.currentBaike.attrs&&t.currentBaike.attrs.length?i("ul",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"attrs-box active__link",attrs:{role:"button"},on:{click:function(e){return e.stopPropagation(),t.onTapAttrSource.apply(null,arguments)}}},t._l(t.currentBaike.attrs,(function(e,a){return i("li",{key:a,class:[t.currentBaike.attrSource?"":"no-attrs-source"]},[i("span",{staticClass:"name"},[t._v(t._s(e.name)+t._s(e.ex_name))]),i("span",{staticClass:"ui-aria-hidden"},[t._v("，")]),i("div",{staticClass:"value"},[i("p",{staticClass:"value-content ellipsis_1",style:{color:e.content_color}},[e.content_color?i("span",{staticClass:"dot"}):t._e(),i("span",{staticClass:"line-clamp-one"},[t._v(t._s(e.content))]),i("span",{staticClass:"ui-aria-hidden"},[t._v("，")])]),i("p",{staticClass:"value-desc line-clamp-one"},[t._v(t._s(e.ex_content))])]),i("span",{staticClass:"ui-aria-hidden"},[t._v("，")])])})),0):t._e(),t.currentBaike.attrSource?i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"attrs-link-box active__link",attrs:{role:"button"},on:{click:function(e){return e.stopPropagation(),t.onTapAttrSource.apply(null,arguments)}}},[i("span",[t._v("来自")]),i("span",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"attrs-link-content attrs-link active__link"},[t._v("\n      "+t._s(t.currentBaike.attrSource.title)+"\n    ")])]):t._e()])}),[],!1,null,"bfaa770a",null).exports),M=i(28),A=i(830);function $(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function N(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?$(Object(i),!0).forEach((function(e){r()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):$(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var R={components:{magnifierWithWord:A.a},mixins:[o.n,u],props:{data:{type:Object,required:!0},words:{type:Array,required:!0},currentBaike:{type:Object,required:!0},baikeInfos:{type:Array,required:!0}},data:function(){return{canFold:!1,wordsSelf:[],currentBaikeSelf:{}}},computed:{},watch:{words:{handler:function(t,e){this.wordsSelf=t.slice(0)},deep:!0},currentBaike:{handler:function(t,e){this.currentBaikeSelf=Object.assign({},t)},deep:!0}},created:function(){this.wordsSelf=this.words.slice(0),this.currentBaikeSelf=Object.assign({},this.currentBaike)},mounted:function(){},methods:{exposeReport:function(){var t=this.baikeInfos.slice(0);t.forEach((function(t,e){t.type=21})),o.f.imageSearch.expose(t)},_changeSelected:function(t){this.wordsSelf.forEach((function(e,i){e.selected=i==t})),this.wordsSelf=Array.from(this.wordsSelf)},getExt:function(){return{key:"parentSearchID",textValue:this.M_composeParentSid({t:l.p.BAIKE_MULTI,s:o.b.searchId,did:this.currentBaikeSelf.docID,rid:this.$store.state.result.previousRid})}},tapRec:function(t){var e=this;if(!t.selected){e._changeSelected(t.index),e.currentBaikeSelf=this.baikeInfos[t.index],e.$emit("changeBaike",e.currentBaikeSelf),o.f.reportSearchStay({eventId:l.h.searchEventType.EXIT,pageType:l.h.pageType.RESULT,exitType:l.h.exitType.OTHER,exitSubType:l.h.exitSubType.FILTER}),m.a.$emit(o.k.setQuery,{page:l.f.RESULT,query:t.title,searchId:"",extReqParams:e.getExt()});var i=Object.assign({},e.currentBaikeSelf);i.type=21,o.f.imageSearch.click(N(N({},i),{},{clickZone:1,clickContent:t.title}))}},tapMore:function(t){t.text}}};i(1772);function H(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function q(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?H(Object(i),!0).forEach((function(e){r()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):H(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var L={components:{baikeBlock:E,multiResult:Object(h.a)(R,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"baike-words"},[i("div",{staticClass:"baike-words__title"},[t._v("图中的"+t._s(t.data.catName&&t.data.catName.length>0?t.data.catName:"内容")+"可能是")]),i("magnifierWithWord",{staticClass:"baike-words__content",attrs:{list:t.wordsSelf},on:{tapWord:t.tapRec,toggleMore:t.tapMore}})],1)}),[],!1,null,"47926326",null).exports},mixins:[o.n,u],props:{data:{type:Object,required:!0},feedback:{type:Object}},data:function(){return{baikeInfos:[],words:[],currentBaike:{}}},computed:{},watch:{data:{handler:function(t,e){this.init(t)},deep:!0}},created:function(){this.init(this.data)},mounted:function(){},methods:{init:function(t){var e=this;t.otherBaikeInfos&&t.otherBaikeInfos.length>0?(this.baikeInfos=[],this.words=[],this.baikeInfos=[q({},t)].concat(t.otherBaikeInfos),this.baikeInfos.forEach((function(t,i){e.words.push({title:t.title})})),this.words[0].selected=1,this.currentBaike=this.baikeInfos[0]):this.currentBaike=t},changeBaike:function(t){this.currentBaike=t}}},U=(i(1773),Object(h.a)(L,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"baike-info"},[t.data.otherBaikeInfos&&t.data.otherBaikeInfos.length>0?i("multi-result",{attrs:{"current-baike":t.currentBaike,words:t.words,data:t.data,"baike-infos":t.baikeInfos},on:{changeBaike:t.changeBaike}}):t._e(),i("baike-block",{attrs:{data:t.data,"current-baike":t.currentBaike,feedback:t.feedback}})],1)}),[],!1,null,"599ea6e4",null).exports),W=i(466),F={created:function(){window.reportVueCreated("src/views/result/third-party/image-search-box/components/image-info.vue")},components:{customSource:W.a},mixins:[o.n,u],props:{data:{type:Object,required:!0},feedback:{type:Object}},computed:{item:function(){return this.$props.data.item}},mounted:function(){},methods:{exposeReport:function(){o.f.imageSearch.expose([this.item])},onTap:function(){this.item.jumpInfo&&(this.M_go(this.item.jumpInfo),o.f.imageSearch.click(this.item))}}},Z=(i(3068),Object(h.a)(F,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"image-info"},[i("div",{staticClass:"line"},[i("div",{staticClass:"line__item primary"},[i("p",{staticClass:"intro-title"},[t._v(t._s(t.data.title))])])]),i("div",{directives:[{name:"active",rawName:"v-active"}],staticClass:"image-info-ctn",on:{click:t.onTap}},[i("div",{staticClass:"info",attrs:{role:"button"}},[i("span",{staticClass:"ui-aria-hidden"},[t._v("文章：")]),i("div",{staticClass:"title ellipsis_2",domProps:{innerHTML:t._s(t.xss(t.item.title))}}),i("ui-article",{attrs:{thumb:t.item.thumbUrl}},[i("div",{attrs:{slot:"desc"},slot:"desc"},[t._v("\n          "+t._s(t.item.desc)+"\n        ")]),i("div",{attrs:{slot:"source"},slot:"source"},[i("customSource",{attrs:{source:t.item.source}})],1)])],1),i("div",{staticClass:"btn",attrs:{role:"button"}},[t._v("\n      "+t._s(t.item.jumpDesc)+"\n      "),i("svg-icon",{staticClass:"link-arrow",attrs:{name:"arrow",role:"button"}})],1)])])}),[],!1,null,"31d7b0f2",null).exports);function G(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function K(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?G(Object(i),!0).forEach((function(e){r()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):G(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var z={components:{},mixins:[o.n,u],props:{data:{type:Object,required:!0}},data:function(){return{canFold:!1}},computed:{item:function(){return this.$props.data.item},hasTitle:function(){return this.item.showType!==this.imageSearchEnum.ShowType.QRCODEINFO_NOTSUPPORT}},watch:{data:function(){this._getIfNeedFold()}},mounted:function(){var t=this;this.$nextTick((function(){t._getIfNeedFold()}))},methods:{_getIfNeedFold:function(){var t=this.$refs.info;t&&t.clientHeight>80&&(this.$data.canFold=!0)},exposeReport:function(){o.f.imageSearch.expose([this.item])},onTap:function(){this.item.jumpInfo&&(this.M_go(this.item.jumpInfo),o.f.imageSearch.click(this.item))},onTapExpand:function(){this.$data.canFold=!1,o.f.imageSearch.click(K(K({},this.item),{},{docID:"unfold",clickZone:2,clickContent:"展开"}))}}},Y=(i(1775),Object(h.a)(z,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"qrcode-info"},[t.hasTitle?i("div",{staticClass:"line"},[i("div",{staticClass:"line__item primary"},[i("p",{staticClass:"intro-title"},[t._v(t._s(t.data.title))])])]):t._e(),t.item.showType===t.imageSearchEnum.ShowType.QRCODEINFO_ITEM?i("div",{directives:[{name:"active",rawName:"v-active"}],staticClass:"box clickable-box line",attrs:{role:"button"},on:{click:t.onTap}},[i("ui-image",{staticClass:"line__item clickable-box-logo",attrs:{url:t.item.thumbUrl,size:24}}),i("div",{staticClass:"clickable-box-content line__item primary"},[i("div",{staticClass:"clickable-box-title ellipsis_1",domProps:{innerHTML:t._s(t.xss(t.item.title))}}),i("span",{staticClass:"ui-aria-hidden"},[t._v("，")]),i("p",{staticClass:"clickable-box-desc"},[t._v(t._s(t.item.desc))])]),i("div",{staticClass:"line__item",attrs:{role:"button"}},[i("svg-icon",{attrs:{name:"arrow"}})],1)],1):t.item.showType===t.imageSearchEnum.ShowType.QRCODEINFO_TEXT?i("div",{staticClass:"box fold-box"},[i("div",{ref:"info",staticClass:"fold-box-inner",class:{fold:t.canFold}},[i("div",{staticClass:"fold-box-content"},[t._v(t._s(t.item.title))]),i("a",{staticClass:"fold-box-expand",on:{click:function(e){return e.stopPropagation(),t.onTapExpand.apply(null,arguments)}}},[i("em",[t._v("展开")])])])]):i("div",{staticClass:"box unsupport-box"},[t._v(t._s(t.data.title))])])}),[],!1,null,"a237151a",null).exports);function J(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function Q(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?J(Object(i),!0).forEach((function(e){r()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):J(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var X={components:{customSource:W.a},mixins:[o.n,u],props:{data:{type:Object,required:!0}},computed:{more:function(){return this.$props.data.more||{}}},methods:{exposeReport:function(){o.f.imageSearch.expose(this.$props.data.items)},onTapHead:function(){this.more.jumpInfo&&this.M_go(this.more.jumpInfo),o.f.imageSearch.click(Q(Q({},this.$props.data),{},{docID:"more",clickZone:1,clickContent:this.more.text}))},onTapArt:function(t){this.M_go(t.jumpInfo||Object.assign({jumpUrl:t.doc_url},t)),o.f.imageSearch.click(Q(Q({},t),{},{clickZone:2}))}}},V=(i(1776),Object(h.a)(X,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"image-arts"},[i("div",{directives:[{name:"active",rawName:"v-active"}],staticClass:"search-block__hd",on:{click:t.onTapHead}},[i("div",{staticClass:"search-block__title"},[i("div",{staticClass:"search-block__title"},[t._v("\n        "+t._s(t.data.title)+"\n      ")]),i("div",{attrs:{role:"button"}},[i("div",{staticClass:"more__handler"}),t.more.jumpInfo?i("div",{staticClass:"more__item"},[t._v("\n          "+t._s(t.more.text)+"\n          "),i("ui-arrow",{attrs:{size:"big"}})],1):t._e()])])]),i("div",{staticClass:"search-block__bd"},t._l(t.data.items,(function(e,a){return i("ui-article",{directives:[{name:"active",rawName:"v-active"}],key:a,attrs:{thumb:e.thumbUrl,title:e.title},on:{tap:function(i){return t.onTapArt(e)}}},[i("customSource",{attrs:{slot:"source",source:e.source},slot:"source"})],1)})),1)])}),[],!1,null,"1dd0f0ff",null).exports),tt=i(480),et=new(i(10).a)({photo:2,video:4}),it={created:function(){window.reportVueCreated("src/components/image-search-common/finder.vue")},components:{"v-mask":tt.a,customSource:W.a},mixins:[o.n],props:{item:{type:Object,default:function(){return{}}},showSource:{type:Boolean,default:!0}},data:function(){return{finderType:et}},computed:{showFinderInfo:function(){return this.item.title||this.showSource}},methods:{tap:function(){this.$emit("tap",this.item)}}},at=(i(1777),Object(h.a)(it,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"active",rawName:"v-active"}],staticClass:"finder active__mask",class:{"hide-info":!t.showFinderInfo},on:{click:t.tap}},[i("div",{staticClass:"finder__inner"},[i("online-image",{staticClass:"finder__bg",attrs:{url:t.item.image,mode:"plain"}}),i("online-image",{staticClass:"finder__item",attrs:{url:t.item.image,mode:"plain"}}),i("v-mask",{attrs:{"icon-url":t.item.mediaType==t.finderType.video?"https://res.wx.qq.com/a/fed_upload/658e7c8d-708d-499b-8d41-4cca1d510d03/play.svg":"",text:t.item.duration,size:24}})],1),t.showFinderInfo?i("div",{staticClass:"finder__info"},[t.item.title?i("p",{staticClass:"finder__title ellipsis_2"},[t._v("\n      "+t._s(t.item.title)+"\n    ")]):t._e(),t.showSource?i("customSource",{attrs:{source:t.item.source}}):t._e()],1):t._e()])}),[],!1,null,"e1434e68",null).exports),nt={created:function(){window.reportVueCreated("src/components/image-search-common/finder-info.vue")},props:{accountInfo:{type:Object}},computed:{authTypeClass:function(){var t="";switch(this.accountInfo.authIconType){case 1:case 3:case 100:t="yellow";break;case 2:t="blue";break;case 0:default:t="none"}return t}},methods:{onTap:function(){this.$emit("tap")}}};i(1778);function st(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function rt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?st(Object(i),!0).forEach((function(e){r()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):st(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var ot={created:function(){window.reportVueCreated("src/views/result/third-party/image-search-box/components/finder-info.vue")},components:{Finder:at,FinderInfo:Object(h.a)(nt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ui-article",{staticClass:"finder-info",attrs:{thumb:t.accountInfo.thumbUrl,desc:t.accountInfo.authInfo},on:{tap:t.onTap}},[i("div",{staticClass:"finder-info-hd",attrs:{slot:"title"},slot:"title"},[i("div",{staticClass:"finder-name-wrap"},[i("div",{staticClass:"finder-name ellipsis_1"},[t._v(t._s(t.accountInfo.title))]),i("svg-icon",{staticClass:"svg-icon-auth",class:[t.authTypeClass],attrs:{name:"auth"}})],1),t._l(t.accountInfo.tags,(function(t){return i("ui-tag",{key:JSON.stringify(t),attrs:{title:t.title,desc:t.desc,type:5}})}))],2)])}),[],!1,null,"7ec83c6e",null).exports},mixins:[o.n,u],props:{data:{type:Object,required:!0}},computed:{more:function(){return this.$props.data.more||{}},accountInfo:function(){var t=this.$props.data;return t.accountInfos&&t.accountInfos[0]},items:function(){return this.accountInfo&&this.accountInfo.items}},methods:{exposeReport:function(){o.f.imageSearch.expose(this.items)},onTapHead:function(){this.more.jumpInfo&&this.M_go(this.more.jumpInfo),o.f.imageSearch.click(rt(rt({},this.$props.data),{},{docID:"more",clickZone:1,clickContent:this.more.text}))},onTapProfile:function(){this.M_go(this.accountInfo.jumpInfo),o.f.imageSearch.click(rt(rt({},this.$props.data),{},{docID:"profile",clickZone:2,clickContent:this.accountInfo.title}))},onTapFinder:function(t){this.M_go(t.jumpInfo),o.f.imageSearch.click(rt(rt({},t),{},{clickZone:3}))}}},ct=(i(1779),Object(h.a)(ot,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"finder-block"},[i("div",{staticClass:"search-block__hd",on:{click:t.onTapHead}},[i("div",{staticClass:"search-block__title"},[i("div",{staticClass:"search-block__title"},[t._v("\n        "+t._s(t.data.title)+"\n      ")]),t.more.jumpInfo?i("div",{directives:[{name:"active",rawName:"v-active"}],staticClass:"more__item",attrs:{role:"button"}},[t._v("\n        "+t._s(t.more.text)+"\n        "),i("ui-arrow",{attrs:{size:"big"}})],1):t._e()])]),i("div",{directives:[{name:"active",rawName:"v-active"}],staticClass:"search-block__bd active__item"},[t.accountInfo?i("finder-info",{attrs:{"account-info":t.accountInfo},on:{tap:t.onTapProfile}}):t._e(),i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"finder-feeds"},t._l(t.items,(function(e,a){return i("finder",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],key:a,staticClass:"feed-item",attrs:{role:"option",item:e,"show-source":!1},on:{tap:t.onTapFinder}})})),1)],1)])}),[],!1,null,"2bd64cdf",null).exports);function lt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function ut(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?lt(Object(i),!0).forEach((function(e){r()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):lt(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var pt={components:{},mixins:[o.n,u],props:{data:{type:Object,required:!0}},data:function(){return{}},methods:{exposeReport:function(){o.f.imageSearch.expose(this.data.items)},imgJump:function(t){this.M_go(Object.assign({extParams:{isHomePage:1}},t.jumpInfo)),o.f.imageSearch.click(ut(ut({},t),{},{clickZone:1}))}}},ht=(i(1780),Object(h.a)(pt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"star-similarity-list"},[i("div",{staticClass:"star-similarity-list_hd"},[i("div",{staticClass:"star-similarity-list__title"},[t._v(t._s(t.data.title))])]),i("div",{staticClass:"star-similarity-list__bd"},[i("ul",{staticClass:"star-similarity-result-list",class:{"star-similarity-result-list__max":t.data.items&&t.data.items.length>3}},t._l(t.data.items,(function(e,a){return i("li",{key:a,staticClass:"star-similarity-result-item",on:{click:function(i){return i.stopPropagation(),t.imgJump(e)}}},[i("div",{staticClass:"star-similarity-result-item-inner",attrs:{role:"option"}},[i("div",{staticClass:"star-similarity-result-item__avatar",style:{background:"url('"+e.thumbUrl+"') no-repeat bottom center / cover"},attrs:{"aria-hidden":"true"}}),i("div",{staticClass:"star-similarity-result-item__info",attrs:{role:"button"}},[i("p",{staticClass:"star-similarity-result-item__info__title"},[t._v(t._s(e.title))]),i("span",{staticClass:"ui-aria-hidden"},[t._v("，")]),i("p",{staticClass:"star-similarity-result-item__info__desc"},[t._v(t._s(e.desc))])])])])})),0)])])}),[],!1,null,"2d814642",null).exports),dt={created:function(){window.reportVueCreated("src/views/result/third-party/image-search-box/components/empty-recommend-info.vue")},mixins:[o.n,u],props:{imageSearchData:{type:Object,default:function(){return{}}},data:{type:Object,default:function(){return{}}}},mounted:function(){this.data.showType===this.imageSearchEnum.ShowType.EMPTYDATA_NORMAL&&o.a.$emit(o.k.SET_BODY_BG_WHITE)},beforeDestroy:function(){this.data.showType===this.imageSearchEnum.ShowType.EMPTYDATA_NORMAL&&o.a.$emit(o.k.UNSET_BODY_BG_WHITE)},methods:{exposeReport:function(){o.f.imageSearch.expose(this.$props.data.imageList)},onTapItem:function(t){this.$store.commit({type:"result/generateGetSearchRid",reset:!0},{root:!0}),o.a.$emit(o.k.GOTO,Object.assign({page:l.f.RESULT,query:"",specialSearchArgs:{type:l.u.IMAGE,reqKey:t.reqKey,params:{fromReqKey:this.imageSearchData.reqKey,fromReqType:8,byPassStr:this.imageSearchData.byPassStr}}})),o.f.imageSearch.click(t)}}},mt=(i(1781),Object(h.a)(dt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"empty-recommend-info",class:{smaller:t.data.showType===t.imageSearchEnum.ShowType.EMPTYDATA_SMALL}},[i("p",{staticClass:"desc"},[t._v(t._s(t.data.title))]),i("ul",{staticClass:"thumb-list"},t._l(t.data.imageList,(function(e){return i("li",{directives:[{name:"active",rawName:"v-active"}],key:e.thumbUrl,on:{click:function(i){return t.onTapItem(e)}}},[i("div",{directives:[{name:"image",rawName:"v-image",value:e.thumbUrl,expression:"item.thumbUrl"}],staticClass:"thumb"}),i("div",{staticClass:"opr"},[i("svg-icon",{staticClass:"magnifier",attrs:{role:"button",name:"magnifier"}})],1)])})),0)])}),[],!1,null,"02aafe62",null).exports);function ft(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function gt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ft(Object(i),!0).forEach((function(e){r()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ft(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var vt={components:{HeightAnimate:i(42).a},mixins:[o.n,u],props:{data:{type:Object,required:!0}},data:function(){return{isHaveFold:!1,isShowMore:!1,dataTotal:[],dataUnfold:[],dataFold:[],showUnfoldNum:0}},created:function(){this.dataTotal=this.data.items.map((function(t){if(-1!==t.desc.indexOf("》")){var e=t.desc.split("》");return t.descOne=e[0],t.descTwo=e[1],t}return t})),this.dataTotal.length>2?(this.isHaveFold=!0,this.dataUnfold=this.dataTotal.slice(0,2),this.dataFold=this.dataTotal.slice(2)):this.dataUnfold=this.dataTotal},methods:{exposeReport:function(){this.dataTotal.length>2?this.isShowMore?o.f.imageSearch.expose(this.dataTotal.slice(2)):o.f.imageSearch.expose(this.dataTotal.slice(0,2)):o.f.imageSearch.expose(this.dataTotal.items)},changeFold:function(){this.isShowMore=!this.isShowMore,this.isShowMore?(o.f.imageSearch.click(gt(gt({},this.data),{},{clickZone:1,clickContent:"展开更多"})),this.showUnfoldNum+=1,1===this.showUnfoldNum&&this.exposeReport()):o.f.imageSearch.click(gt(gt({},this.data),{},{clickZone:4,clickContent:"收起"}))},onCopy:function(t){var e=document.createElement("input");e.setAttribute("readonly","readonly"),e.setAttribute("value",t.title),e.style.opacity="0",e.style.position="absolute",document.body.appendChild(e),e.select(),e.setSelectionRange(0,99999);try{document.execCommand("copy")&&m.a.$emit(o.k.showToast,{action:M.a.done,text:"已复制"}),document.body.removeChild(e)}catch(i){document.body.removeChild(e)}o.f.imageSearch.click(gt(gt({},t),{},{clickZone:3,clickContent:"复制"}))},onTapPoem:function(t){this.M_go(t.jumpInfo),o.f.imageSearch.click(gt(gt({},t),{},{clickZone:2,clickContent:t.title}))}}},_t=(i(1785),Object(h.a)(vt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"poem-info"},[i("div",{staticClass:"search-block__hd"},[i("div",{staticClass:"search-block__title"},[i("div",{staticClass:"search-block__title"},[t._v(t._s(t.data.title))])])]),t._l(t.dataUnfold,(function(e){return i("ui-article",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],key:e.docID,staticClass:"ctn spacing active__item",on:{tap:function(i){return t.onTapPoem(e)}}},[i("div",{attrs:{slot:"title",role:"button"},slot:"title"},[i("div",[i("div",{staticClass:"poem-item__title",domProps:{innerHTML:t._s(t.xss(e.title))}})]),e.descOne?i("ui-clamp",{staticClass:"poem-item__desc",attrs:{autoresize:"","max-lines":2},scopedSlots:t._u([{key:"after",fn:function(){return[t._v("》"+t._s(e.descTwo))]},proxy:!0}],null,!0)},[t._v("\n        "+t._s(e.descOne))]):i("div",{staticClass:"poem-item__desc ellipsis_2"},[t._v(t._s(e.desc))])],1),i("div",{attrs:{slot:"outer-oprs",role:"button"},slot:"outer-oprs"},[i("ui-button",{nativeOn:{click:function(i){return i.stopPropagation(),t.onCopy(e)}}},[t._v("复制")])],1)])})),t.isHaveFold&&t.isShowMore?i("height-animate",{attrs:{"without-enter":!1,"without-leave":!1,transfrom:!1}},t._l(t.dataFold,(function(e){return i("ui-article",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],key:e.docID,staticClass:"ctn spacing active__item",on:{tap:function(i){return t.onTapPoem(e)}},scopedSlots:t._u([{key:"desc",fn:function(){return[e.descOne?i("ui-clamp",{staticClass:"poem-item__desc",attrs:{autoresize:"","max-lines":2},scopedSlots:t._u([{key:"after",fn:function(){return[t._v("》"+t._s(e.descTwo))]},proxy:!0}],null,!0)},[t._v("\n          "+t._s(e.descOne))]):i("div",{staticClass:"poem-item__desc ellipsis_2"},[t._v(t._s(e.desc))])]},proxy:!0}],null,!0)},[i("div",{staticClass:"poem-item__title",attrs:{slot:"title"},domProps:{innerHTML:t._s(t.xss(e.title))},slot:"title"}),i("div",{attrs:{slot:"outer-oprs"},slot:"outer-oprs"},[i("ui-button",{nativeOn:{click:function(i){return i.stopPropagation(),t.onCopy(e)}}},[t._v("复制")])],1)])})),1):t._e(),t.isHaveFold&&!t.isShowMore?i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"fold-wrp active__link",on:{click:t.changeFold}},[i("div",{staticClass:"fold",attrs:{role:"button"}},[i("span",{staticClass:"fold-word"},[t._v("展开更多")]),i("ui-icon",{staticClass:"poem-down-arrow arrow-icon",attrs:{"aria-hidden":"true",name:"arrow"}})],1)]):t._e(),t.isHaveFold&&t.isShowMore?i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"fold-wrp active__link",on:{click:t.changeFold}},[i("div",{staticClass:"fold"},[i("span",{staticClass:"fold-word"},[t._v("收起")]),i("ui-icon",{staticClass:"poem-up-arrow arrow-icon",attrs:{role:"button",name:"arrow"}})],1)]):t._e()],2)}),[],!1,null,"5e7fc08e",null).exports),yt=i(13);function bt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function Ct(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?bt(Object(i),!0).forEach((function(e){r()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):bt(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var wt={components:{magnifierWithWord:A.a},mixins:[u],props:{data:{type:Object,default:function(){return{}}},typePos:{type:Number,default:0},hideAction:{type:Boolean,default:!1}},data:function(){return{words:[],pickerID:"",isPickerShow:!1}},computed:{rec:function(){return this.data.recommend||{}},action:function(){return this.data.action},isWordsHidden:function(){return!this.data.recommend}},created:function(){var t=this;t._initWords(),v.a.on((function(e){t.isPickerShow?t.handleClientNavAction():e()}))},methods:{_initWords:function(){var t=(this.rec||{}).words;t&&(this.words=JSON.parse(JSON.stringify(t)))},_changeSelected:function(t){this.words.forEach((function(e,i){e.selected=i==t})),this.words=Array.from(this.words)},handleClientNavAction:function(){this.$hideWordPicker(),this.isPickerShow=!1,this.setupClientBehavior(!1)},exposeReport:function(){o.f.imageSearch.expose([this.data])},getExt:function(){return{key:"parentSearchID",textValue:this.M_composeParentSid({t:l.p.OCR_HOT_WORD,s:o.b.searchId,did:this.docID,rid:this.$store.state.result.previousRid})}},tapRec:function(t){t.selected||(this._changeSelected(t.index),o.f.reportSearchStay({eventId:l.h.searchEventType.EXIT,pageType:l.h.pageType.RESULT,exitType:l.h.exitType.OTHER,exitSubType:l.h.exitSubType.FILTER}),m.a.$emit(m.b.setQuery,{page:l.f.RESULT,query:t.title,searchId:"",extReqParams:this.getExt()}),o.f.imageSearch.click(Ct(Ct({},this.data),{},{clickZone:1,clickContent:t.title})))},tapMore:function(t){var e=t.text;o.f.imageSearch.click(Ct(Ct({},this.data),{},{clickZone:2,clickContent:e}))},wordChooseToggleCheck:function(t){var e=t.text;o.f.imageSearch.click(Ct(Ct({},this.data),{},{clickZone:5,clickContent:e}))},wordChoosePick:function(t){var e=t.text;o.f.imageSearch.click(Ct(Ct({},this.data),{},{clickZone:4,clickContent:e}))},wordChooseCopy:function(t){var e=t.text;o.f.imageSearch.click(Ct(Ct({},this.data),{},{clickZone:6,clickContent:e}))},wordChooseConfirm:function(t){var e=t.text;this.handleClientNavAction(),this.M_openSearchWebView({actionType:3,type:0,subType:0,query:e,isHomePage:1,extParams:encodeURIComponent(JSON.stringify({crossExtReqParams:[{key:"parentSearchID",textValue:this.M_composeParentSid({t:l.p.OCR_SELECTED,s:o.b.searchId,did:"确认选词",rid:this.$store.state.result.previousRid})}]}))}),o.f.imageSearch.click(Ct(Ct({},this.data),{},{clickZone:7,clickContent:e}))},tapAction:function(t){var e=this;if("chooseWord"==t.type)try{var i=JSON.parse(t.ocrJsonStr).content;e.$showWordPicker({text:i,showCancel:!1,showCopy:!0},{confirm:e.wordChooseConfirm,copy:e.wordChooseCopy,pick:e.wordChoosePick,toggleCheck:e.wordChooseToggleCheck}),e.isPickerShow=!0,e.setupClientBehavior(!0,t.title),o.f.imageSearch.click(Ct(Ct({},e.data),{},{clickZone:3,clickContent:t.title}))}catch(a){}},setupClientBehavior:function(t,e){o.o.hasSearchBarForSpecialSearchScene&&(yt.a.setPopGestureEnabled({enabled:!t}),t?v.a.configNavBar({hideSearchBar:!0,nativeConfig:{title:e},navButtonConfig:{leftBarButtonType:"exit"}}):v.a.configNavBar({hideSearchBar:!1,navButtonConfig:{leftBarButtonType:"back"}}))}}},kt=(i(1112),Object(h.a)(wt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ocr-info",class:{"hidden-words":t.isWordsHidden,"hidden-actions":t.hideAction}},[i("div",{staticClass:"rec"},[i("p",{staticClass:"rec__title"},[t._v("\n      "+t._s(t.rec.title)+"\n    ")]),i("magnifierWithWord",{attrs:{list:t.words},on:{tapWord:t.tapRec,toggleMore:t.tapMore}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.hideAction,expression:"!hideAction"}],staticClass:"actions"},t._l(t.action,(function(e){return i("div",{directives:[{name:"active",rawName:"v-active"}],key:e.title,staticClass:"action active__item",attrs:{role:"button"},on:{click:function(i){return t.tapAction(e)}}},[e.iconUrl?i("ui-image",{staticClass:"action__icon",attrs:{size:20,color:"var(--LINK)",url:e.iconUrl}}):t._e(),i("div",{staticClass:"action__title"},[t._v("\n        "+t._s(e.title)+"\n      ")])],1)})),0)])}),[],!1,null,"fb94bc04",null).exports);function St(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function Ot(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?St(Object(i),!0).forEach((function(e){r()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):St(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var xt={components:{},mixins:[o.n,u],props:{data:{type:Object,required:!0}},data:function(){return{isPickerShow:!1}},created:function(){},methods:{exposeReport:function(){o.f.imageSearch.expose([this.data])},onTapLink:function(){this.M_go(this.data.jumpInfo),o.f.imageSearch.click(Ot(Ot({},this.data),{},{clickZone:1,clickContent:this.data.title}))}}},It=(i(1787),Object(h.a)(xt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"doc-info"},[i("div",{staticClass:"doc-info__title"},[t._v("图片已生成表格，可在小程序中打开")]),t.data.thumbUrl?i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"have-doc-wrp active__item",attrs:{role:"button"},on:{click:function(e){return e.stopPropagation(),t.onTapLink.apply(null,arguments)}}},[t.data.source?i("span",{staticClass:"ui-aria-hidden"},[t._v(t._s(t.data.source.title)+"，")]):t._e(),i("div",{staticClass:"applet-title-wrp"},[i("div",{staticClass:"applet-title-left"},[i("i",{staticClass:"applet-logo"}),i("div",{staticClass:"applet-title"},[t._v(t._s(t.data.title))])]),i("svg-icon",{attrs:{name:"arrow"}})],1),i("div",{staticClass:"applet-doc-img-wrp"},[i("div",{staticClass:"applet-doc-img",style:{backgroundImage:"url("+t.data.thumbUrl+")"}}),i("div",{staticClass:"img-mask"})]),t.data.source?i("p",{staticClass:"applet-name",attrs:{"aria-hidden":"true"}},[t._v(t._s(t.data.source.title))]):t._e()]):i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"no-doc-wrp active__item",on:{click:function(e){return e.stopPropagation(),t.onTapLink.apply(null,arguments)}}},[i("div",{staticClass:"no-doc-left"},[i("i",{staticClass:"applet-logo"}),i("div",{staticClass:"applet-info"},[i("p",{staticClass:"applet-title"},[t._v(t._s(t.data.title))]),t.data.source?i("p",{staticClass:"applet-name no-space"},[t._v(t._s(t.data.source.title))]):t._e()])]),i("svg-icon",{attrs:{name:"arrow"}})],1)])}),[],!1,null,"99be5804",null).exports);function jt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function Tt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?jt(Object(i),!0).forEach((function(e){r()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):jt(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Pt={2:{tmpl:"image-info",dataKey:"imageInfo"},3:{tmpl:"baike-info",dataKey:"baikeInfo"},4:{tmpl:"qrcode-info",dataKey:"qrcodeInfo"},5:{tmpl:"star-similarity-list",dataKey:"similarFace"},6:{tmpl:"finder-info",dataKey:"finderInfo"},7:{tmpl:"image-arts",dataKey:"imageArts"},8:{tmpl:"poem-info",dataKey:"poemInfo"},9:{tmpl:"ocr-info",dataKey:"ocrInfo"},10:{tmpl:"doc-info",dataKey:"docInfo"}},Dt={components:{imageList:T,imageInfo:Z,qrcodeInfo:Y,baikeInfo:U,imageArts:V,finderInfo:ct,emptyRecommendInfo:mt,starSimilarityList:ht,poemInfo:_t,ocrInfo:kt,picCut:k,docInfo:It},props:{args:{type:Object,default:function(){return{}}}},data:function(){return{ImageSearchComponentMap:Pt,picCutImgObj:null,showPicCut:!1,spinUrl:"",currentIndex:-1,returnQuery:"",isConfigNavBarDone:!1,isQuerySpecific:!1}},computed:{imageSearchData:function(){return this.$store.state.result.mpImageSearchData||{}},imageList:function(){try{return this.imageSearchData.items[0].sotiInfo.boxs}catch(t){return[]}},hasImageRelativeInfo:function(){return this.imageSearchData.items&&this.imageSearchData.items.length},isOcrActionAbove:function(){return!!this.imageSearchData.is_ocr_jump_exp_on},ocrActions:function(){var t=this;if(this.isOcrActionAbove){var e=this.imageSearchData.items,i=((void 0===e?[]:e).find((function(t){return 9===t.itemType}))||{}).ocrInfo,a=(void 0===i?{}:i).action;return(void 0===a?[]:a).map((function(e){return Tt(Tt({},e),{},{click:function(){var i=n()(t.$refs.Component_ocrInfo,1)[0],a=void 0===i?{}:i;a.tapAction&&a.tapAction(e)}})}))}return[]}},watch:{args:function(){this.getImageSearchData(this.args)}},created:function(){var t=this;this.isImageSearchBan=!1,this.getImageSearchData(this.args),o.a.$on(o.k.IMAGE_SEARCH_PIC_CUT_SHOW,(function(e,i){t.picCutImgObj=Object.assign(e,{spinUrl:t.spinUrl}),t.showPicCut=!0,t.currentIndex=i})),o.a.$on(o.k.IMAGE_SEARCH_PIC_CUT_HIDE,(function(e,i){t.picCutImgObj=null,t.showPicCut=!1,t.hasImageRelativeInfo&&t.imageSearchData.items.forEach((function(i){i.sotiInfo&&(e?o.f.imageSearch.click(Object.assign({},i.sotiInfo,Tt(Tt({},i.sotiInfo.boxs[t.currentIndex]),{},{clickZone:7}))):o.f.imageSearch.click(Object.assign({},i.sotiInfo,Tt(Tt({},i.sotiInfo.boxs[t.currentIndex]),{},{clickZone:6}))))}))})),o.a.$on(o.k.IMAGE_SEARCH_SET_QUERY,(function(e){t.returnQuery=e,t.isConfigNavBarDone&&o.i.setInputBar({query:e})}))},destroyed:function(){o.a.$off(o.k.IMAGE_SEARCH_PIC_CUT_HIDE,{}),o.a.$off(o.k.IMAGE_SEARCH_PIC_CUT_SHOW,{})},methods:{_updateMpImageSearchData:function(t,e){this.isImageSearchBan||this.$store.commit({type:e?"result/mergeMpImageSearchData":"result/updateMpImageSearchData",mpImageSearchData:t})},getImageSearchData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=+new Date;_(Object.assign({},e,{action:"chatimgsearch_security"}),{reload:3}).then((function(e){e.needClear&&(t._updateMpImageSearchData(null),t.$store.commit({type:"result/self/updateBase",pageMsg:e.clearMsg}),t.isImageSearchBan=!0,o.a.$emit(o.k.IMG_DATA_READY,{isBan:!0}))})),_(e).then((function(a){e.action&&"chatimgsearch_switch"===e.action&&(a.imageList=t.imageSearchData.imageList,a.image_list_point=t.imageSearchData.image_list_point),t._updateMpImageSearchData(a),a.items&&a.items.length>0&&!t.isConfigNavBarDone&&o.o.hasSearchBarForSpecialSearchScene&&(t.isQuerySpecific=a.items.some((function(t){return 9==t.itemType})),v.a.configNavBar({nativeConfig:{searchBarTextColor:t.isQuerySpecific?"defaultColor":"placeholderColor"}}),o.i.setInputBar({query:t.returnQuery}),t.isConfigNavBarDone=!0),e.action&&"chatimgsearch_by_req_key"!==e.action||t.isImageSearchBan||_(Object.assign({},e,{action:"chatimgsearch_imagelist"}),{reload:3}).then((function(e){t._updateMpImageSearchData(e,!0),e.imageList&&e.imageList.length&&0!==e.imageList[0].imgObj.orientation&&(t.spinUrl=e.imageList[0].spinUrl)})),_({reqKey:a.reqKey,action:"chatimgsearch_webreport",params:{user_cost_time:+new Date-i}}),o.a.$emit(o.k.IMG_DATA_READY,{isBan:!1})}))}}},Bt=(i(1113),Object(h.a)(Dt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"image-search-mp-box"},[t.imageSearchData.imageList?i("image-list",{attrs:{"is-get-main-color":!1,data:t.imageSearchData.imageList,"crop-list":t.imageSearchData.image_list_point,"crop-search":t.imageSearchData.cropSearch,"is-query-specific":t.isQuerySpecific,"ext-actions":t.ocrActions}}):t._e(),t.hasImageRelativeInfo?i("div",{staticClass:"image-relative-info"},[t._l(t.imageSearchData.items,(function(e,a){return[t.ImageSearchComponentMap[e.itemType]?i(t.ImageSearchComponentMap[e.itemType].tmpl,{key:t.imageSearchData.req_key+"-"+e.itemType+"-"+a,ref:"Component_"+t.ImageSearchComponentMap[e.itemType].dataKey,refInFor:!0,tag:"component",staticClass:"image-relative-info-item",attrs:{"type-pos":a+1,data:e[t.ImageSearchComponentMap[e.itemType].dataKey],feedback:t.imageSearchData.feedback,"hide-action":9===e.itemType&&t.isOcrActionAbove}}):t._e()]}))],2):t._e(),t.imageSearchData.emptyData&&t.imageSearchData.emptyData.isShow?i("empty-recommend-info",{attrs:{"image-search-data":t.imageSearchData,data:t.imageSearchData.emptyData}}):t._e()],1)}),[],!1,null,"4fb03fb6",null));e.default=Bt.exports},248:function(t,e,i){},249:function(t,e,i){},3066:function(t,e,i){"use strict";i(994)},3067:function(t,e,i){"use strict";i(995)},3068:function(t,e,i){"use strict";i(998)},3205:function(t,e,i){"use strict";i(248)},370:function(t,e,i){},480:function(t,e,i){"use strict";var a=i(493),n=i(0),s={mixins:[n.l,n.n],props:{useUiSource:{type:Boolean,default:!1},text:{type:[String,Number],default:""},size:{type:Number,default:32},iconUrl:{type:String,default:"https://res.wx.qq.com/a/fed_upload/658e7c8d-708d-499b-8d41-4cca1d510d03/play.svg"},ts:{type:Number,default:0},liveWatch:{type:Boolean,default:!1},like:{type:Boolean,default:!1},isHot:{type:Boolean,default:!1},duration:{type:Boolean,default:!1},durationAtLeftBottom:{type:String,default:""},isTop:{type:Boolean,default:!1},noIcon:{type:Boolean,default:!1},dateTime:{type:String,default:""},tag:{type:Object,default:function(){}},tags:{type:Array,default:function(){return[]}},liveEnd:{type:Boolean,default:!1},tapSourceAlone:{type:Boolean,default:!1},tapTextAlone:{type:Boolean,default:!1},title:{type:String,default:""},desc:{type:String,default:""},descList:{type:Array,default:function(){return[]}},source:{type:Object,default:function(){return{}}},friendInfo:{type:Object,default:function(){return{}}},showGradient:{type:Boolean,default:!1},gradientPadding:{type:[Number,String],default:8},maskType:{type:Number,default:1},tagDate:{type:String,default:""},tagTitle:{type:String,default:""},specialShadow:{type:Boolean,default:!1},hotComment:{type:Object,default:function(){return null}},textWithBg:{type:Boolean,default:!1}},computed:{maskTypeText:function(){return{1:"视频",2:"文章"}[this.maskType]},showAdvancedSpecialShadow:function(){return(!!this.dateTime||!!this.source||!!this.ts||this.text)&&(!!this.friendInfo&&!!this.friendInfo.avatars&&this.friendInfo.avatars.length>0||!!this.title||!!this.desc)&&!this.hasHotComment},hasHotComment:function(){var t,e;return!(null===(t=this.hotComment)||void 0===t||null===(e=t.content)||void 0===e||!e.trim())}},methods:{decodeEmoji:function(t){if(t){var e=t.replace(/\\n/gi," ");return Object(a.decode)(e)}return""},tapSource:function(t){this.$emit("tap:source",t,this.M_getItemPos(t))},tapHotComment:function(t){var e;null!==(e=this.hotComment)&&void 0!==e&&e.jumpInfo&&(t.stopPropagation(),this.M_go(this.hotComment.jumpInfo),this.M_clickReport({clickZone:1,itemPos:this.M_getItemPos(this.hotComment),reportItem:this.reportItem},this.hotComment))}}},r=(i(3205),i(484),i(4)),o=Object(r.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"play-mask",attrs:{role:"option"}},[t.tag?i("ui-tag",{staticClass:"mask-tag",attrs:{title:t.tag.title,type:t.tag.type}}):t._e(),t.tags?i("ui-tags",{staticClass:"mask-tag",attrs:{tags:t.tags}}):t._e(),i("div",{staticClass:"mask-tag scene-tag"},[t.tagDate?i("div",{staticClass:"scene-tag__date"},[i("span",[t._v(t._s(t.tagDate))])]):t._e(),t.tagTitle?i("div",{staticClass:"scene-tag__title"},[i("span",[t._v(t._s(t.tagTitle))])]):t._e()]),i("div",{staticClass:"extra-wrap",class:{"linear-gradient":t.showGradient&&!t.specialShadow},style:{padding:"number"==typeof t.gradientPadding?t.gradientPadding+"px":""+t.gradientPadding}},[t.specialShadow?i("div",{class:{"special-shadow":!0,"special-shadow--advanced":t.showAdvancedSpecialShadow,"special-shadow--hot-comment":t.hasHotComment}}):t._e(),t.hasHotComment?i("ui-clamp",{directives:[{name:"active",rawName:"v-active.stop",value:!!t.hotComment.jumpInfo,expression:"!!hotComment.jumpInfo",modifiers:{stop:!0}}],class:{"hot-comment":!0,active__opacity:!!t.hotComment.jumpInfo},attrs:{autoresize:"","max-lines":2,"raw-html":t.decodeEmoji(t.hotComment.content),"aria-label":t.hotComment.content,"data-report-id":t.M_itemReportId(t.hotComment,1)},nativeOn:{click:function(e){return t.tapHotComment.apply(null,arguments)}},scopedSlots:t._u([{key:"before",fn:function(){return[i("span",{staticClass:"hot-comment__item-wrap"},[i("span",{staticClass:"hot-comment__label"},[t._v(t._s(t.hotComment.label))])])]},proxy:!0},{key:"after",fn:function(){return[i("span",{staticClass:"hot-comment__item-wrap"},[i("span",{staticClass:"hot-comment__like"},[i("online-image",{staticClass:"icon-like",attrs:{url:"https://res.wx.qq.com/t/fed_upload/59ee2753-a126-4495-bd1e-daccbdc285bf/like2_outlined.svg"}}),i("span",{staticClass:"ui-aria-hidden"},[t._v(", 获得")]),i("span",[t._v(t._s(t.hotComment.likeNum))]),i("span",{staticClass:"ui-aria-hidden"},[t._v("个赞")])],1)])]},proxy:!0}],null,!1,151505576)},[i("span",{staticClass:"hot-comment__content"})]):[t.friendInfo&&t.friendInfo.avatars&&t.friendInfo.avatars.length>0?i("div",{staticClass:"social",attrs:{"aria-hidden":"true"}},[i("div",{staticClass:"social__avatars"},t._l(t.friendInfo.avatars,(function(t){return i("ui-image",{key:t,staticClass:"social__avatar",attrs:{url:t,size:28,mode:"avatar"}})})),1),t.friendInfo.text?i("div",{staticClass:"social__title"},[t._v("\n          "+t._s(t.friendInfo.text)+"\n        ")]):t._e(),t.friendInfo.afterText?i("div",{staticClass:"social__after-text"},[t._v("\n          "+t._s(t.friendInfo.afterText)+"\n        ")]):t._e(),i("online-image",{staticClass:"social__mark",attrs:{url:"https://res.wx.qq.com/t/fed_upload/947ffded-fd95-4cf1-853c-1f052774f6aa/like_outlined_medium.svg"}})],1):t._e(),t.title?i("div",{staticClass:"vc-title",domProps:{innerHTML:t._s(t.xss(t.title))}}):t._e(),t.desc?i("div",{staticClass:"vc-desc",domProps:{innerHTML:t._s(t.xss(t.desc))}}):t._e(),t.descList?i("div",{staticClass:"vc__desc--list"},t._l(t.descList,(function(e,a){return i("span",{key:e+a,staticClass:"pr-8"},[t._v("\n          "+t._s(e)+"\n          "),i("span",{staticClass:"ui-aria-hidden"},[t._v(",")])])})),0):t._e(),t.durationAtLeftBottom?i("div",{staticClass:"play-mask__text",attrs:{role:"option"}},[i("span",{staticClass:"ui-aria-hidden"},[t._v("时长：")]),i("span",{staticStyle:{"font-weight":"normal"}},[t._v(t._s(t.durationAtLeftBottom))])]):t.dateTime?i("div",{staticClass:"datetime"},[t._v("\n        "+t._s(t.dateTime)+"\n      ")]):!t.useUiSource&&t.source?i("div",{directives:[{name:"active",rawName:"v-active.stop",value:t.tapSourceAlone,expression:"tapSourceAlone",modifiers:{stop:!0}}],staticClass:"vc-source",class:{"vc-source_with-tag":t.source.tag,active__opacity:t.source.jumpInfo&&t.tapSourceAlone},attrs:{"data-report-id":t.M_itemReportId(t.source)},on:{click:function(e){return e.stopPropagation(),t.tapSource(t.source)}}},[t.source.iconUrl?i("ui-image",{staticClass:"vc-source__thumb",attrs:{url:t.source.iconUrl,size:20,mode:"avatar",overlay:""}}):t._e(),t.source.title||t.source.mark?i("div",{staticClass:"vc-source-title-box"},[i("div",{staticClass:"vc-source__title"},[i("p",{staticClass:"vc-source__text",domProps:{innerHTML:t._s(t.xss(t.source.title))}}),i("div",{staticClass:"badges"},t._l(t.source.mark,(function(t){return i("ui-image",{key:t,attrs:{url:t,size:14,mode:"raw"}})})),1),i("p",{staticClass:"vc-source__dateTime",domProps:{innerHTML:t._s(t.xss(t.source.dateTime))}})])]):t._e()],1):t.source?i("ui-source",t._b({directives:[{name:"active",rawName:"v-active.stop",value:!!t.source.jumpInfo,expression:"!!source.jumpInfo",modifiers:{stop:!0}}],attrs:{"data-report-id":t.M_itemReportId(t.source)},nativeOn:{click:function(e){return e.stopPropagation(),t.tapSource(t.source)}},scopedSlots:t._u([{key:"after-text",fn:function(){},proxy:!0}])},"ui-source",t.source,!1)):t._e(),i("div",{staticClass:"extra-info-gap"}),t.ts||t.text?i("span",{directives:[{name:"active",rawName:"v-active.stop",value:t.tapTextAlone,expression:"tapTextAlone",modifiers:{stop:!0}}],staticClass:"play-mask__bg active__opacity"},[t.like?i("span",{staticClass:"play-mask__text",class:{"play-mask__text_with-bg":t.textWithBg},attrs:{role:"option"}},[t.isHot?i("online-image",{staticClass:"icon-like",attrs:{url:"https://res.wx.qq.com/t/fed_upload/1f3fb4f3-6753-466e-9a75-eef436716497/fire.svg"}}):i("online-image",{staticClass:"icon-like",attrs:{url:"https://res.wx.qq.com/t/fed_upload/b9567c10-5a84-47b5-ae89-8c71aedb8c92/like_outlined_medium.svg"}}),i("span",{staticClass:"ui-aria-hidden"},[t._v("，点赞：")]),i("span",[t._v(t._s(t.text))])],1):i("span",{staticClass:"play-mask__text",class:{"play-mask__text_with-bg":t.textWithBg},attrs:{role:"option"}},[t.durationAtLeftBottom?t._e():[t.ts||t.duration||t.text.toString().indexOf(":")>-1?i("span",{staticClass:"ui-aria-hidden"},[t._v("，时长：")]):t._e(),t.liveWatch?i("span",{staticClass:"ui-aria-hidden"},[t._v(t._s("，"+t.text))]):t._e(),t.ts?i("span",[t._v(t._s(t._f("mmss")(t.ts)))]):i("span",{attrs:{"aria-hidden":t.liveWatch}},[t._v(t._s(t.text))])],t.isTop?i("online-image",{staticClass:"icon-top",attrs:{url:"https://res.wx.qq.com/t/fed_upload/d649fe44-ec25-474b-bcc0-2281a0105218/top.svg"}}):t._e()],2)]):t._e(),i("span",{staticClass:"ui-aria-hidden"},[t._v(t._s(","+t.maskTypeText+"。"))])]],2),t.noIcon?t._e():i("div",{staticClass:"play-icon-wrapper"},[i("ui-image",{staticClass:"play-icon",attrs:{"aria-label":"播放",url:t.iconUrl,size:t.size,type:"img"}})],1),t.liveEnd?i("div",{staticClass:"live-end-tip"},[i("ui-image",{staticClass:"live-end-icon",attrs:{url:"https://res.wx.qq.com/a/fed_upload/4e09c767-7238-4dab-bb48-8da245eeb470/live_icon.svg",size:20}}),i("span",[t._v("直播已结束")])],1):t._e()],1)}),[],!1,null,"2e6b8585",null);e.a=o.exports},484:function(t,e,i){"use strict";i(249)},764:function(t,e,i){"use strict";i(370)},820:function(t,e,i){"use strict";var a={props:{url:{type:String,required:!0}},data:function(){return{style:{}}},watch:{url:function(t){this.preload(t)}},mounted:function(){this.preload(this.$props.url)},methods:{preload:function(t){var e=this,i=new Image;i.onload=function(){if(e.$refs.imgContainer){var t=this.height/this.width,a=1,n=1,s=0,r=0;t>1?s=(1-(a=1/Math.min(4/3,t)))/2/a:r=(1-(n=Math.max(3/4,t)))/2/n,e.$refs.imgContainer.style.backgroundImage='url("'.concat(i.src,'")'),e.style={width:"".concat(100*a,"%"),paddingBottom:"".concat(100*n,"%"),transform:"translate(".concat(100*s,"%, ").concat(100*r,"%)")}}},i.src=t}}},n=(i(764),i(4)),s=Object(n.a)(a,(function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"imgContainer",staticClass:"img_container",style:this.style})}),[],!1,null,"96c73eae",null);e.a=s.exports},992:function(t,e,i){},993:function(t,e,i){},994:function(t,e,i){},995:function(t,e,i){},996:function(t,e,i){},997:function(t,e,i){},998:function(t,e,i){}}]);