(window.webpackJsonp=window.webpackJsonp||[]).push([[227,8],{1309:function(t,i,e){},1310:function(t,i,e){},2021:function(t,i,e){"use strict";e(1309)},2022:function(t,i,e){"use strict";e(1310)},2154:function(t,i,e){"use strict";e.r(i);var n=e(39),a=e(822),o=e(459),s={created:function(){window.reportVueCreated("src/views/result/block/official-zone/components/zone-component/live.vue")},components:{activityLiveBox:a.a},mixins:[n.a,o.a],inject:["idkey"],props:{data:{type:Object,default:function(){return{}}},item:{type:Object,default:function(){return{}}},pos:{type:Number,default:0},typePos:{type:Number,default:0}},data:function(){return{}},methods:{tap:function(){this.idkey(this.item.showType),this.M_clickReport({clickZone:2}),this.$emit("tap")},tapButton:function(t){this.M_handleInsert(),this.idkey(this.item.showType),this.M_clickReport({clickZone:2,clickContent:t.title}),this.$emit("tap")}}},r=(e(2021),e(2022),e(4)),c=Object(r.a)(s,(function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"oz__live oz__margin-dense oz__item",attrs:{"data-id":this.M_exposeId()}},[i("div",{staticClass:"oz__body"},[i("div",{staticClass:"live-wrapper"},[i("activity-live-box",this._b({attrs:{active:""},on:{tap:this.tap,"tap:button":this.tapButton}},"activity-live-box",this.$props,!1))],1)])])}),[],!1,null,"4fa81040",null);i.default=c.exports},2239:function(t,i,e){"use strict";e.r(i);var n=e(0),a=e(2),o=e(80),s=e(722),r=e(613),c={name:"Live",components:{LiveItemCard:s.a,blockTitle:o.default,debugInfo:r.default},mixins:[n.n],props:{d:{type:Object,default:function(){return{}}},typePos:{type:Number,default:0}},data:function(){return{column:2}},computed:{isLiveInnerSearch:function(){return n.b.scene==a.e.LIVE_INNER_SEARCH},isMixedLiveNoTitle:function(){return!this.isLiveInnerSearch&&!this.d.title},isMixedLiveWithTitle:function(){return!this.isLiveInnerSearch&&this.d.title}},watch:{d:{handler:function(t){t&&(this.column=this.getColumns())},immediate:!0}},methods:{getColumns:function(){return 0===n.b.type?this.d.items.length:2}}},u=(e(3632),e(4)),l=Object(u.a)(c,(function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"live"},[t.d.title?e("block-title",{attrs:{d:t.d,"type-pos":t.typePos}}):t._e(),e("div",{staticClass:"live-content",class:{"live-search":t.isLiveInnerSearch,"mixed-live-no-title":t.isMixedLiveNoTitle,"mixed-live-with-title":t.isMixedLiveWithTitle}},[e("ui-column",{attrs:{col:t.column,list:t.d.items},scopedSlots:t._u([{key:"default",fn:function(i){var n=i.item,a=i.index;return[e("live-item-card",{key:n.docID,staticClass:"search_list_item",attrs:{"data-back-report-id":t.M_genDocReportId({data:t.d,typePos:t.typePos,item:n,pos:a+1}),data:t.d,item:n,"type-pos":t.typePos,pos:a+1}}),n.debugWord?e("debugInfo",{key:n.debugWord,attrs:{text:n.debugWord}}):t._e()]}}])})],1)],1)}),[],!1,null,"3194e427",null);i.default=l.exports},247:function(t,i,e){},3631:function(t,i,e){"use strict";e(369)},3632:function(t,i,e){"use strict";e(955)},369:function(t,i,e){},380:function(t,i,e){},459:function(t,i,e){"use strict";var n={methods:{ozJump:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=this;i.M_confirm_go(t.dialog,t)}},computed:{M_canHeaderJump:function(){return!!this.item.header&&!!(this.item.header.jumpUrl||this.item.header.weappUrl||this.item.header.jumpInfo)}}};i.a=n},562:function(t,i,e){"use strict";e(247)},613:function(t,i,e){"use strict";e.r(i);var n=e(0),a={props:{text:{type:String,default:""}},methods:{checkShowDebugWord:function(){var t=n.d.getStore("isShowDebugWord");return this.text&&t},tap:function(t){var i=t.currentTarget.classList;i.contains("show")?i.remove("show"):i.add("show")}}},o=(e(562),e(4)),s=Object(o.a)(a,(function(){var t=this,i=t.$createElement,e=t._self._c||i;return t.checkShowDebugWord()?e("div",{staticClass:"debug-box",on:{click:function(i){return i.stopPropagation(),t.tap.apply(null,arguments)}}},[e("div",{staticClass:"inner",domProps:{innerHTML:t._s(t.xss(t.text))}})]):t._e()}),[],!1,null,"391a6019",null);i.default=s.exports},722:function(t,i,e){"use strict";var n=e(504),a=e(0),o=e(2),s={name:"LiveItemCard",components:{VideoPlayer:n.a},mixins:[a.n],props:{data:{type:Object,default:function(){return{}}},item:{type:Object,default:function(){return{}}},pos:{type:Number,default:0},typePos:{type:Number,default:0},from:{type:String,default:""},groupKey:{type:String,default:""}},computed:{isFinderInnerSearch:function(){return a.b.isFinderSearch},isLiveInnerSearch:function(){return a.b.scene==o.e.LIVE_INNER_SEARCH||a.b.scene==o.e.FINDER_MUSIC_LIVE},innerAspectRatio:function(){var t=this.item.videoData||{},i=t.width,e=t.height;if(i>0&&e>0)return e/i;var n=this.item,a=n.videoWidth,o=n.videoHeight;return a>0&&o>0?o/a:0}},methods:{onTapLive:function(){var t=this,i=this;"teach"===this.from?(a.f.teach.reportCommonClick({blockType:i.data.type,blockId:i.data.id||"",blockWord:i.data.title,blockExpand:i.data.expand||"",blockIndex:i.typePos,itemId:i.item.id,itemWord:i.item.title,itemExpand:i.item.expand||"",itemIndex:i.pos+1}),this.M_go(this.item)):a.g.fastClickCheck((function(){t.M_clickReport({clickContent:t.item.title,itemPos:t.M_getItemPos(t.item.reportId)},t.item),t.M_go(t.item)}),2e3)}}},r=(e(3631),e(4)),c=Object(r.a)(s,(function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("video-player",t._b({directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"active__mask",attrs:{"data-id":t.M_exposeId(),"data-report-id":t.M_itemReportId(t.item.reportId,t.pos),src:t.item.videoUrl,poster:t.item.imageUrl,"export-id":t.item.exportId,"nonce-id":t.item.nonceId,"aspect-ratio":t.item.aspectRatio||(t.isFinderInnerSearch||t.isLiveInnerSearch?16/9:4/3),"inner-aspect-ratio":t.innerAspectRatio,"round-corner":!0,"round-corner-size":8,tag:t.item.tags&&t.item.tags[0],controls:["sound"],role:"option",title:t.M_os("链接"),static:t.M_os(!1,!0),data:t.data,item:t.item,"type-pos":t.typePos,pos:t.pos,"group-key":t.groupKey,"play-successively-in-group":!!t.groupKey},nativeOn:{click:function(i){return i.stopPropagation(),t.onTapLive.apply(null,arguments)}}},"video-player",{soundControlPositionRelativeToTopRight:8},!1),[e("div",{staticClass:"live-text-wrapper"},[e("div",[t.item.recommend?e("div",{staticClass:"live-recommend"},[t._v(t._s(t.item.recommend))]):t._e(),t.item.title?e("div",{staticClass:"title ellipsis_2",domProps:{innerHTML:t._s(t.xss(t.item.title))}}):t._e(),t.item.source?e("div",{staticClass:"live-source",attrs:{"aria-hidden":"true"}},[e("div",{staticClass:"source-name-box"},[t.item.source.iconUrl?e("ui-image",{staticClass:"source-avatar",attrs:{size:16,url:t.item.source.iconUrl,mode:"avatar",overlay:""}}):t._e(),e("div",{staticClass:"source-name ellipsis"},[t._v(t._s(t.item.source.title))]),e("ui-tags",{attrs:{flex:"",tags:t.item.source.tag}})],1),t.item.desc?e("div",{staticClass:"source-desc"},[t._v(t._s(t.item.desc))]):t._e()]):t._e()])])])}),[],!1,null,"da820028",null);i.a=c.exports},769:function(t,i,e){"use strict";e(380)},822:function(t,i,e){"use strict";var n=e(0),a=e(17),o=e(10),s=e(8),r=new o.a({noLive:1,noLiveButton:2,live:3,liveButton:4,popConfirm:5,popCancel:6}),c={mixins:[n.l,n.n],props:{data:{type:Object,default:function(){return{}}},item:{type:Object,default:function(){return{}}},pos:{type:Number,default:0},typePos:{type:Number,default:0},active:{type:Boolean,default:!1}},data:function(){var t=this.$props.item.activity?this.$props.item.activity:this.$props.item;return{isLoading:!1,button:t.button,notification:t.info&&t.info.notification}},computed:{activity:function(){return this.$props.item.activity?this.$props.item.activity:this.$props.item},popData:function(){return this.button&&this.button.popData},jumpInfo:function(){return this.activity.jumpInfo||this.activity},bannerUrl:function(){return this.activity.image||this.activity.imageUrl||this.activity.thumbUrl},hasCardJumpInfo:function(){return this.jumpInfo.jumpType||this.jumpInfo.jumpUrl||this.jumpInfo.userName}},watch:{item:function(){this.notification=this.activity.info&&this.activity.info.notification,this.button=this.activity.button}},created:function(){var t=this;window.reportVueCreated("src/views/result/global/activity-live-box/index.vue"),s.b.onInputChange((function(){t.$refs.halfScreen&&t.$refs.halfScreen.hide()})),s.b.onInputConfirm((function(){t.$refs.halfScreen&&t.$refs.halfScreen.hide()})),n.a.$on(n.k.BACK_BUTTON_CLICK,(function(){t.$refs.halfScreen&&t.$refs.halfScreen.hide()}))},methods:{_reportLive:function(t){n.f.result.live({type:this.data.real_type||this.data.type,resultType:this.data.resultType,docID:this.item.docID,clickType:t})},_popConfirm:function(){var t=this;this.$refs.halfScreen&&this.$refs.halfScreen.hide(),this.isLoading=!0,n.i.getCommonCgiData({cgiName:a.a.wxaLiveSubscribe,data:{bizuin:this.activity.bizuin,roomID:this.activity.roomID}}).then((function(i){t.isLoading=!1,i.notification&&(t.notification=i.notification)})),this._reportLive(r.popConfirm),this.$emit("tap:pop-confirm")},_popCancel:function(){this.$refs.halfScreen&&this.$refs.halfScreen.hide(),this._reportLive(r.popCancel),this.$emit("tap:pop-cancel")},tap:function(){this.hasCardJumpInfo&&(this.M_confirm_go(this.activity.dialog,this.jumpInfo),this._reportLive(this.item.broadcasting?r.live:r.noLive),this.$emit("tap"))},tapButton:function(){var t=this;if(this.popData)this.$refs.halfScreen&&this.$refs.halfScreen.show();else if(this.button.cgiName)this.isLoading=!0,setTimeout((function(){t.isLoading=!1}),3e3),n.i.getCommonCgiData({cgiName:this.button.cgiName,data:this.button.param}).then((function(i){t.isLoading=!1,i.button&&t.$set(t,"button",i.button)}));else{var i=this.button.jumpInfo?this.button:this.jumpInfo;this.M_confirm_go(this.activity.dialog,i)}this._reportLive(this.item.broadcasting?r.liveButton:r.noLiveButton),this.$emit("tap:button",this.button)}}},u=(e(769),e(4)),l=Object(u.a)(c,(function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"activity-live-box"},[e("div",{directives:[{name:"active",rawName:"v-active"}],staticClass:"live-wrap",class:{"live-wrap-active":t.active&&t.hasCardJumpInfo},on:{click:function(i){return i.stopPropagation(),t.tap.apply(null,arguments)}}},[e("div",{staticClass:"live-image-wrapper"},[e("online-image",{staticClass:"live-image",attrs:{url:t.item.image}})],1),e("div",{staticClass:"text-wrapper"},[e("div",{attrs:{role:"button"}},[e("div",{staticClass:"live-title"},[t._v(t._s(t.item.title)),e("span",{staticClass:"ui-aria-hidden"},[t._v(".")])]),e("div",{staticClass:"line__item live-info"},[e("span",{staticClass:"live-info-title live-new-style"},[t._v(t._s(t.item.info.title))]),e("span",{staticClass:"ui-aria-hidden"},[t._v(",")]),e("span",{staticClass:"live-info-status"},[t._v(t._s(t.item.info.status))])])]),e("div",{staticClass:"live-bottom-area"},[t.notification?e("div",{staticClass:"line__item live-info-tag",attrs:{role:"alert"}},[e("span",{staticClass:"tag"},[t._v("\n            "+t._s(t.notification)+"\n          ")])]):e("ui-button",{staticClass:"live-button",attrs:{type:0===t.button.buttonType||t.button.buttonType?t.button.buttonType:5,mini:"",loading:t.isLoading},on:{tap:function(i){return i.stopPropagation(),t.tapButton.apply(null,arguments)}}},[t._v("\n          "+t._s(t.button.title)+"\n        ")])],1)]),t.popData?e("ui-half-screen",{ref:"halfScreen",attrs:{"class-name":"popup-checkbox-list",header:{type:1,title:t.popData.title,iconUrl:t.popData.iconUrl},footer:{confirm:t.popData.confirm,cancel:t.popData.reject}},on:{"tap:confirm":t._popConfirm,"tap:cancel":t._popCancel}},[e("p",{staticClass:"live-pop-title"},[t._v(t._s(t.popData.desc))])]):t._e()],1)])}),[],!1,null,"5971f6bc",null);i.a=l.exports},955:function(t,i,e){}}]);