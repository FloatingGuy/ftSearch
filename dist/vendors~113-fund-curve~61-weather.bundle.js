(window.webpackJsonp=window.webpackJsonp||[]).push([[329],{2149:function(t,e,i){"use strict";i.d(e,"a",(function(){return ot}));var n=i(491),a=i(584),o=i(832),s=i(731),r=i(707),l=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.hasSymbolVisual=!0,i}return Object(n.a)(e,t),e.prototype.getInitialData=function(t){return Object(a.a)(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(t){var e=new r.a,i=Object(s.a)("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);e.add(i),i.setStyle(t.lineStyle);var n=this.getData().getVisual("symbol"),a=this.getData().getVisual("symbolRotate"),o="none"===n?"circle":n,l=.8*t.itemHeight,c=Object(s.a)(o,(t.itemWidth-l)/2,(t.itemHeight-l)/2,l,l,t.itemStyle.fill);e.add(c),c.setStyle(t.itemStyle);var h="inherit"===t.iconRotate?a:t.iconRotate||0;return c.rotation=h*Math.PI/180,c.setOrigin([t.itemWidth/2,t.itemHeight/2]),o.indexOf("empty")>-1&&(c.style.stroke=c.style.fill,c.style.fill="#fff",c.style.lineWidth=2),e},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e}(o.a),c=i(72),h=i(631),u=i(547),p=i(630),d=i(709),g=i(583),m=i(642),f=i(629);function y(t,e){this.parent.drift(t,e)}var v=function(t){function e(e,i,n,a){var o=t.call(this)||this;return o.updateData(e,i,n,a),o}return Object(n.a)(e,t),e.prototype._createSymbol=function(t,e,i,n,a){this.removeAll();var o=Object(s.a)(t,-1,-1,2,2,null,a);o.attr({z2:100,culling:!0,scaleX:n[0]/2,scaleY:n[1]/2}),o.drift=y,this._symbolType=t,this.add(o)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){Object(d.o)(this.childAt(0))},e.prototype.downplay=function(){Object(d.z)(this.childAt(0))},e.prototype.setZ=function(t,e){var i=this.childAt(0);i.zlevel=t,i.z=e},e.prototype.setDraggable=function(t){var e=this.childAt(0);e.draggable=t,e.cursor=t?"move":e.cursor},e.prototype.updateData=function(t,i,n,a){this.silent=!1;var o=t.getItemVisual(i,"symbol")||"circle",s=t.hostModel,r=e.getSymbolSize(t,i),l=o!==this._symbolType,c=a&&a.disableAnimation;if(l){var u=t.getItemVisual(i,"symbolKeepAspect");this._createSymbol(o,t,i,r,u)}else{(d=this.childAt(0)).silent=!1;var p={scaleX:r[0]/2,scaleY:r[1]/2};c?d.attr(p):h.f(d,p,s,i),Object(h.e)(d)}if(this._updateCommon(t,i,r,n,a),l){var d=this.childAt(0);if(!c){p={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:d.style.opacity}};d.scaleX=d.scaleY=0,d.style.opacity=0,h.a(d,p,s,i)}}c&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(t,e,i,n,a){var o,r,l,h,u,p,y,v,b,S=this.childAt(0),_=t.hostModel;if(n&&(o=n.emphasisItemStyle,r=n.blurItemStyle,l=n.selectItemStyle,h=n.focus,u=n.blurScope,y=n.labelStatesModels,v=n.hoverScale,b=n.cursorStyle,p=n.emphasisDisabled),!n||t.hasItemOption){var O=n&&n.itemModel?n.itemModel:t.getItemModel(e),x=O.getModel("emphasis");o=x.getModel("itemStyle").getItemStyle(),l=O.getModel(["select","itemStyle"]).getItemStyle(),r=O.getModel(["blur","itemStyle"]).getItemStyle(),h=x.get("focus"),u=x.get("blurScope"),p=x.get("disabled"),y=Object(m.c)(O),v=x.getShallow("scale"),b=O.getShallow("cursor")}var I=t.getItemVisual(e,"symbolRotate");S.attr("rotation",(I||0)*Math.PI/180||0);var w=Object(s.b)(t.getItemVisual(e,"symbolOffset"),i);w&&(S.x=w[0],S.y=w[1]),b&&S.attr("cursor",b);var j=t.getItemVisual(e,"style"),D=j.fill;if(S instanceof f.a){var M=S.style;S.useStyle(Object(c.l)({image:M.image,x:M.x,y:M.y,width:M.width,height:M.height},j))}else S.__isEmptyBrush?S.useStyle(Object(c.l)({},j)):S.useStyle(j),S.style.decal=null,S.setColor(D,a&&a.symbolInnerColor),S.style.strokeNoScale=!0;var A=t.getItemVisual(e,"liftZ"),N=this._z2;null!=A?null==N&&(this._z2=S.z2,S.z2+=A):null!=N&&(S.z2=N,this._z2=null);var P=a&&a.useNameLabel;Object(m.e)(S,y,{labelFetcher:_,labelDataIndex:e,defaultText:function(e){return P?t.getName(e):Object(g.b)(t,e)},inheritColor:D,defaultOpacity:j.opacity}),this._sizeX=i[0]/2,this._sizeY=i[1]/2;var k=S.ensureState("emphasis");if(k.style=o,S.ensureState("select").style=l,S.ensureState("blur").style=r,v){var C=Math.max(1.1,3/this._sizeY);k.scaleX=this._sizeX*C,k.scaleY=this._sizeY*C}this.setSymbolScale(1),Object(d.E)(this,h,u,p)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,e,i){var n=this.childAt(0),a=Object(p.a)(this).dataIndex,o=i&&i.animation;if(this.silent=n.silent=!0,i&&i.fadeLabel){var s=n.getTextContent();s&&h.c(s,{style:{opacity:0}},e,{dataIndex:a,removeOpt:o,cb:function(){n.removeTextContent()}})}else n.removeTextContent();h.c(n,{style:{opacity:0},scaleX:0,scaleY:0},e,{dataIndex:a,cb:t,removeOpt:o})},e.getSymbolSize=function(t,e){return Object(s.c)(t.getItemVisual(e,"symbolSize"))},e}(r.a);function b(t,e,i,n){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(n.isIgnore&&n.isIgnore(i))&&!(n.clipShape&&!n.clipShape.contain(e[0],e[1]))&&"none"!==t.getItemVisual(i,"symbol")}function S(t){return null==t||Object(c.w)(t)||(t={isIgnore:t}),t||{}}function _(t){var e=t.hostModel,i=e.getModel("emphasis");return{emphasisItemStyle:i.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:i.get("focus"),blurScope:i.get("blurScope"),emphasisDisabled:i.get("disabled"),hoverScale:i.get("scale"),labelStatesModels:Object(m.c)(e),cursorStyle:e.get("cursor")}}var O=function(){function t(t){this.group=new r.a,this._SymbolCtor=t||v}return t.prototype.updateData=function(t,e){this._progressiveEls=null,e=S(e);var i=this.group,n=t.hostModel,a=this._data,o=this._SymbolCtor,s=e.disableAnimation,r=_(t),l={disableAnimation:s},c=e.getSymbolPoint||function(e){return t.getItemLayout(e)};a||i.removeAll(),t.diff(a).add((function(n){var a=c(n);if(b(t,a,n,e)){var s=new o(t,n,r,l);s.setPosition(a),t.setItemGraphicEl(n,s),i.add(s)}})).update((function(u,p){var d=a.getItemGraphicEl(p),g=c(u);if(b(t,g,u,e)){var m=t.getItemVisual(u,"symbol")||"circle",f=d&&d.getSymbolType&&d.getSymbolType();if(!d||f&&f!==m)i.remove(d),(d=new o(t,u,r,l)).setPosition(g);else{d.updateData(t,u,r,l);var y={x:g[0],y:g[1]};s?d.attr(y):h.f(d,y,n)}i.add(d),t.setItemGraphicEl(u,d)}else i.remove(d)})).remove((function(t){var e=a.getItemGraphicEl(t);e&&e.fadeOut((function(){i.remove(e)}),n)})).execute(),this._getSymbolPoint=c,this._data=t},t.prototype.updateLayout=function(){var t=this,e=this._data;e&&e.eachItemGraphicEl((function(e,i){var n=t._getSymbolPoint(i);e.setPosition(n),e.markRedraw()}))},t.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=_(t),this._data=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(t,e,i){function n(t){t.isGroup||(t.incremental=!0,t.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[],i=S(i);for(var a=t.start;a<t.end;a++){var o=e.getItemLayout(a);if(b(e,o,a,i)){var s=new this._SymbolCtor(e,a,this._seriesScope);s.traverse(n),s.setPosition(o),this.group.add(s),e.setItemGraphicEl(a,s),this._progressiveEls.push(s)}}},t.prototype.eachRendered=function(t){u.traverseElements(this._progressiveEls||this.group,t)},t.prototype.remove=function(t){var e=this.group,i=this._data;i&&t?i.eachItemGraphicEl((function(t){t.fadeOut((function(){e.remove(t)}),i.hostModel)})):e.removeAll()},t}(),x=i(712);function I(t,e,i){var n=t.getBaseAxis(),a=t.getOtherAxis(n),o=function(t,e){var i=0,n=t.scale.getExtent();"start"===e?i=n[0]:"end"===e?i=n[1]:n[0]>0?i=n[0]:n[1]<0&&(i=n[1]);return i}(a,i),s=n.dim,r=a.dim,l=e.mapDimension(r),h=e.mapDimension(s),u="x"===r||"radius"===r?1:0,p=Object(c.C)(t.dimensions,(function(t){return e.mapDimension(t)})),d=!1,g=e.getCalculationInfo("stackResultDimension");return Object(x.c)(e,p[0])&&(d=!0,p[0]=g),Object(x.c)(e,p[1])&&(d=!0,p[1]=g),{dataDimsForPoint:p,valueStart:o,valueAxisDim:r,baseAxisDim:s,stacked:!!d,valueDim:l,baseDim:h,baseDataOffset:u,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function w(t,e,i,n){var a=NaN;t.stacked&&(a=i.get(i.getCalculationInfo("stackedOverDimension"),n)),isNaN(a)&&(a=t.valueStart);var o=t.baseDataOffset,s=[];return s[o]=i.get(t.baseDim,n),s[1-o]=a,e.dataToPoint(s)}var j=i(732);var D=i(1371),M=i(708),A=i(473),N=i(498),P=i(635),k=i(615),C=Math.min,L=Math.max;function T(t,e){return isNaN(t)||isNaN(e)}function E(t,e,i,n,a,o,s,r,l){for(var c,h,u,p,d,g,m=i,f=0;f<n;f++){var y=e[2*m],v=e[2*m+1];if(m>=a||m<0)break;if(T(y,v)){if(l){m+=o;continue}break}if(m===i)t[o>0?"moveTo":"lineTo"](y,v),u=y,p=v;else{var b=y-c,S=v-h;if(b*b+S*S<.5){m+=o;continue}if(s>0){for(var _=m+o,O=e[2*_],x=e[2*_+1];O===y&&x===v&&f<n;)f++,m+=o,O=e[2*(_+=o)],x=e[2*_+1],b=(y=e[2*m])-c,S=(v=e[2*m+1])-h;var I=f+1;if(l)for(;T(O,x)&&I<n;)I++,O=e[2*(_+=o)],x=e[2*_+1];var w=.5,j=0,D=0,M=void 0,A=void 0;if(I>=n||T(O,x))d=y,g=v;else{j=O-c,D=x-h;var N=y-c,P=O-y,k=v-h,E=x-v,z=void 0,G=void 0;if("x"===r){var V=j>0?1:-1;d=y-V*(z=Math.abs(N))*s,g=v,M=y+V*(G=Math.abs(P))*s,A=v}else if("y"===r){var R=D>0?1:-1;d=y,g=v-R*(z=Math.abs(k))*s,M=y,A=v+R*(G=Math.abs(E))*s}else z=Math.sqrt(N*N+k*k),d=y-j*s*(1-(w=(G=Math.sqrt(P*P+E*E))/(G+z))),g=v-D*s*(1-w),A=v+D*s*w,M=C(M=y+j*s*w,L(O,y)),A=C(A,L(x,v)),M=L(M,C(O,y)),g=v-(D=(A=L(A,C(x,v)))-v)*z/G,d=C(d=y-(j=M-y)*z/G,L(c,y)),g=C(g,L(h,v)),M=y+(j=y-(d=L(d,C(c,y))))*G/z,A=v+(D=v-(g=L(g,C(h,v))))*G/z}t.bezierCurveTo(u,p,d,g,y,v),u=M,p=A}else t.lineTo(y,v)}c=y,h=v,m+=o}return f}var z=function(){this.smooth=0,this.smoothConstraint=!0},G=function(t){function e(e){var i=t.call(this,e)||this;return i.type="ec-polyline",i}return Object(n.a)(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new z},e.prototype.buildPath=function(t,e){var i=e.points,n=0,a=i.length/2;if(e.connectNulls){for(;a>0&&T(i[2*a-2],i[2*a-1]);a--);for(;n<a&&T(i[2*n],i[2*n+1]);n++);}for(;n<a;)n+=E(t,i,n,a,a,1,e.smooth,e.smoothMonotone,e.connectNulls)+1},e.prototype.getPointOn=function(t,e){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var i,n,a=this.path.data,o=P.a.CMD,s="x"===e,r=[],l=0;l<a.length;){var c=void 0,h=void 0,u=void 0,p=void 0,d=void 0,g=void 0,m=void 0;switch(a[l++]){case o.M:i=a[l++],n=a[l++];break;case o.L:if(c=a[l++],h=a[l++],(m=s?(t-i)/(c-i):(t-n)/(h-n))<=1&&m>=0){var f=s?(h-n)*m+n:(c-i)*m+i;return s?[t,f]:[f,t]}i=c,n=h;break;case o.C:c=a[l++],h=a[l++],u=a[l++],p=a[l++],d=a[l++],g=a[l++];var y=s?Object(k.f)(i,c,u,d,t,r):Object(k.f)(n,h,p,g,t,r);if(y>0)for(var v=0;v<y;v++){var b=r[v];if(b<=1&&b>=0){f=s?Object(k.a)(n,h,p,g,b):Object(k.a)(i,c,u,d,b);return s?[t,f]:[f,t]}}i=d,n=g}}},e}(N.b),V=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(n.a)(e,t),e}(z),R=function(t){function e(e){var i=t.call(this,e)||this;return i.type="ec-polygon",i}return Object(n.a)(e,t),e.prototype.getDefaultShape=function(){return new V},e.prototype.buildPath=function(t,e){var i=e.points,n=e.stackedOnPoints,a=0,o=i.length/2,s=e.smoothMonotone;if(e.connectNulls){for(;o>0&&T(i[2*o-2],i[2*o-1]);o--);for(;a<o&&T(i[2*a],i[2*a+1]);a++);}for(;a<o;){var r=E(t,i,a,o,o,1,e.smooth,s,e.connectNulls);E(t,n,a+r-1,r,o,-1,e.stackedOnSmooth,s,e.connectNulls),a+=r+1,t.closePath()}},e}(N.b),X=i(798),Y=i(1569),H=i(1206),F=i(644),B=i(628);function W(t,e){if(t.length===e.length){for(var i=0;i<t.length;i++)if(t[i]!==e[i])return;return!0}}function U(t){for(var e=1/0,i=1/0,n=-1/0,a=-1/0,o=0;o<t.length;){var s=t[o++],r=t[o++];isNaN(s)||(e=Math.min(s,e),n=Math.max(s,n)),isNaN(r)||(i=Math.min(r,i),a=Math.max(r,a))}return[[e,i],[n,a]]}function J(t,e){var i=U(t),n=i[0],a=i[1],o=U(e),s=o[0],r=o[1];return Math.max(Math.abs(n[0]-s[0]),Math.abs(n[1]-s[1]),Math.abs(a[0]-r[0]),Math.abs(a[1]-r[1]))}function Z(t){return c.v(t)?t:t?.5:0}function q(t,e,i,n){var a=e.getBaseAxis(),o="x"===a.dim||"radius"===a.dim?0:1,s=[],r=0,l=[],c=[],h=[],u=[];if(n){for(r=0;r<t.length;r+=2)isNaN(t[r])||isNaN(t[r+1])||u.push(t[r],t[r+1]);t=u}for(r=0;r<t.length-2;r+=2)switch(h[0]=t[r+2],h[1]=t[r+3],c[0]=t[r],c[1]=t[r+1],s.push(c[0],c[1]),i){case"end":l[o]=h[o],l[1-o]=c[1-o],s.push(l[0],l[1]);break;case"middle":var p=(c[o]+h[o])/2,d=[];l[o]=d[o]=p,l[1-o]=c[1-o],d[1-o]=h[1-o],s.push(l[0],l[1]),s.push(d[0],d[1]);break;default:l[o]=c[o],l[1-o]=h[1-o],s.push(l[0],l[1])}return s.push(t[r++],t[r++]),s}function K(t,e,i){var n=t.getVisual("visualMeta");if(n&&n.length&&t.count()&&"cartesian2d"===e.type){for(var a,o,s=n.length-1;s>=0;s--){var r=t.getDimensionInfo(n[s].dimension);if("x"===(a=r&&r.coordDim)||"y"===a){o=n[s];break}}if(o){var l=e.getAxis(a),h=c.C(o.stops,(function(t){return{coord:l.toGlobalCoord(l.dataToCoord(t.value)),color:t.color}})),u=h.length,p=o.outerColors.slice();u&&h[0].coord>h[u-1].coord&&(h.reverse(),p.reverse());var d=function(t,e){var i,n,a=[],o=t.length;function s(t,e,i){var n=t.coord,a=(i-n)/(e.coord-n);return{coord:i,color:Object(B.a)(a,[t.color,e.color])}}for(var r=0;r<o;r++){var l=t[r],c=l.coord;if(c<0)i=l;else{if(c>e){n?a.push(s(n,l,e)):i&&a.push(s(i,l,0),s(i,l,e));break}i&&(a.push(s(i,l,0)),i=null),a.push(l),n=l}}return a}(h,"x"===a?i.getWidth():i.getHeight()),g=d.length;if(!g&&u)return h[0].coord<0?p[1]?p[1]:h[u-1].color:p[0]?p[0]:h[0].color;var m=d[0].coord-10,f=d[g-1].coord+10,y=f-m;if(y<.001)return"transparent";c.j(d,(function(t){t.offset=(t.coord-m)/y})),d.push({offset:g?d[g-1].offset:.5,color:p[1]||"transparent"}),d.unshift({offset:g?d[0].offset:.5,color:p[0]||"transparent"});var v=new D.a(0,0,0,0,d,!0);return v[a]=m,v[a+"2"]=f,v}}}function Q(t,e,i){var n=t.get("showAllSymbol"),a="auto"===n;if(!n||a){var o=i.getAxesByScale("ordinal")[0];if(o&&(!a||!function(t,e){var i=t.getExtent(),n=Math.abs(i[1]-i[0])/t.scale.count();isNaN(n)&&(n=0);for(var a=e.count(),o=Math.max(1,Math.round(a/5)),s=0;s<a;s+=o)if(1.5*v.getSymbolSize(e,s)[t.isHorizontal()?1:0]>n)return!1;return!0}(o,e))){var s=e.mapDimension(o.dim),r={};return c.j(o.getViewLabels(),(function(t){var e=o.scale.getRawOrdinalNumber(t.tickValue);r[e]=1})),function(t){return!r.hasOwnProperty(e.get(s,t))}}}}function $(t,e){return[t[2*e],t[2*e+1]]}function tt(t){if(t.get(["endLabel","show"]))return!0;for(var e=0;e<d.g.length;e++)if(t.get([d.g[e],"endLabel","show"]))return!0;return!1}function et(t,e,i,n){if(Object(H.a)(e,"cartesian2d")){var a=n.getModel("endLabel"),o=a.get("valueAnimation"),s=n.getData(),r={lastFrameIndex:0},l=tt(n)?function(i,n){t._endLabelOnDuring(i,n,s,r,o,a,e)}:null,c=e.getBaseAxis().isHorizontal(),h=Object(Y.b)(e,i,n,(function(){var e=t._endLabel;e&&i&&null!=r.originalX&&e.attr({x:r.originalX,y:r.originalY})}),l);if(!n.get("clip",!0)){var u=h.shape,p=Math.max(u.width,u.height);c?(u.y-=p,u.height+=2*p):(u.x-=p,u.width+=2*p)}return l&&l(1,h),h}return Object(Y.c)(e,i,n)}var it=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(n.a)(e,t),e.prototype.init=function(){var t=new r.a,e=new O;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t},e.prototype.render=function(t,e,i){var n=this,a=t.coordinateSystem,o=this.group,s=t.getData(),r=t.getModel("lineStyle"),l=t.getModel("areaStyle"),u=s.getLayout("points")||[],g="polar"===a.type,m=this._coordSys,f=this._symbolDraw,y=this._polyline,v=this._polygon,b=this._lineGroup,S=t.get("animation"),_=!l.isEmpty(),O=l.get("origin"),x=I(a,s,O),D=_&&function(t,e,i){if(!i.valueDim)return[];for(var n=e.count(),a=Object(j.a)(2*n),o=0;o<n;o++){var s=w(i,t,e,o);a[2*o]=s[0],a[2*o+1]=s[1]}return a}(a,s,x),M=t.get("showSymbol"),A=t.get("connectNulls"),N=M&&!g&&Q(t,s,a),P=this._data;P&&P.eachItemGraphicEl((function(t,e){t.__temp&&(o.remove(t),P.setItemGraphicEl(e,null))})),M||f.remove(),o.add(b);var k,C=!g&&t.get("step");a&&a.getArea&&t.get("clip",!0)&&(null!=(k=a.getArea()).width?(k.x-=.1,k.y-=.1,k.width+=.2,k.height+=.2):k.r0&&(k.r0-=.5,k.r+=.5)),this._clipShapeForSymbol=k;var L=K(s,a,i)||s.getVisual("style")[s.getVisual("drawType")];if(y&&m.type===a.type&&C===this._step){_&&!v?v=this._newPolygon(u,D):v&&!_&&(b.remove(v),v=this._polygon=null),g||this._initOrUpdateEndLabel(t,a,Object(F.b)(L));var T=b.getClipPath();if(T){var E=et(this,a,!1,t);h.a(T,{shape:E.shape},t)}else b.setClipPath(et(this,a,!0,t));M&&f.updateData(s,{isIgnore:N,clipShape:k,disableAnimation:!0,getSymbolPoint:function(t){return[u[2*t],u[2*t+1]]}}),W(this._stackedOnPoints,D)&&W(this._points,u)||(S?this._doUpdateAnimation(s,D,a,i,C,O,A):(C&&(u=q(u,a,C,A),D&&(D=q(D,a,C,A))),y.setShape({points:u}),v&&v.setShape({points:u,stackedOnPoints:D})))}else M&&f.updateData(s,{isIgnore:N,clipShape:k,disableAnimation:!0,getSymbolPoint:function(t){return[u[2*t],u[2*t+1]]}}),S&&this._initSymbolLabelAnimation(s,a,k),C&&(u=q(u,a,C,A),D&&(D=q(D,a,C,A))),y=this._newPolyline(u),_&&(v=this._newPolygon(u,D)),g||this._initOrUpdateEndLabel(t,a,Object(F.b)(L)),b.setClipPath(et(this,a,!0,t));var z=t.getModel("emphasis"),G=z.get("focus"),V=z.get("blurScope"),R=z.get("disabled");(y.useStyle(c.i(r.getLineStyle(),{fill:"none",stroke:L,lineJoin:"bevel"})),Object(d.D)(y,t,"lineStyle"),y.style.lineWidth>0&&"bolder"===t.get(["emphasis","lineStyle","width"]))&&(y.getState("emphasis").style.lineWidth=+y.style.lineWidth+1);Object(p.a)(y).seriesIndex=t.seriesIndex,Object(d.E)(y,G,V,R);var X=Z(t.get("smooth")),Y=t.get("smoothMonotone");if(y.setShape({smooth:X,smoothMonotone:Y,connectNulls:A}),v){var H=s.getCalculationInfo("stackedOnSeries"),B=0;v.useStyle(c.i(l.getAreaStyle(),{fill:L,opacity:.7,lineJoin:"bevel",decal:s.getVisual("style").decal})),H&&(B=Z(H.get("smooth"))),v.setShape({smooth:X,stackedOnSmooth:B,smoothMonotone:Y,connectNulls:A}),Object(d.D)(v,t,"areaStyle"),Object(p.a)(v).seriesIndex=t.seriesIndex,Object(d.E)(v,G,V,R)}var U=function(t){n._changePolyState(t)};s.eachItemGraphicEl((function(t){t&&(t.onHoverStateChange=U)})),this._polyline.onHoverStateChange=U,this._data=s,this._coordSys=a,this._stackedOnPoints=D,this._points=u,this._step=C,this._valueOrigin=O,t.get("triggerLineEvent")&&(this.packEventData(t,y),v&&this.packEventData(t,v))},e.prototype.packEventData=function(t,e){Object(p.a)(e).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},e.prototype.highlight=function(t,e,i,n){var a=t.getData(),o=A.p(a,n);if(this._changePolyState("emphasis"),!(o instanceof Array)&&null!=o&&o>=0){var s=a.getLayout("points"),r=a.getItemGraphicEl(o);if(!r){var l=s[2*o],c=s[2*o+1];if(isNaN(l)||isNaN(c))return;if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(l,c))return;var h=t.get("zlevel"),u=t.get("z");(r=new v(a,o)).x=l,r.y=c,r.setZ(h,u);var p=r.getSymbolPath().getTextContent();p&&(p.zlevel=h,p.z=u,p.z2=this._polyline.z2+1),r.__temp=!0,a.setItemGraphicEl(o,r),r.stopSymbolAnimation(!0),this.group.add(r)}r.highlight()}else X.a.prototype.highlight.call(this,t,e,i,n)},e.prototype.downplay=function(t,e,i,n){var a=t.getData(),o=A.p(a,n);if(this._changePolyState("normal"),null!=o&&o>=0){var s=a.getItemGraphicEl(o);s&&(s.__temp?(a.setItemGraphicEl(o,null),this.group.remove(s)):s.downplay())}else X.a.prototype.downplay.call(this,t,e,i,n)},e.prototype._changePolyState=function(t){var e=this._polygon;Object(d.C)(this._polyline,t),e&&Object(d.C)(e,t)},e.prototype._newPolyline=function(t){var e=this._polyline;return e&&this._lineGroup.remove(e),e=new G({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(e),this._polyline=e,e},e.prototype._newPolygon=function(t,e){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new R({shape:{points:t,stackedOnPoints:e},segmentIgnoreThreshold:2}),this._lineGroup.add(i),this._polygon=i,i},e.prototype._initSymbolLabelAnimation=function(t,e,i){var n,a,o=e.getBaseAxis(),s=o.inverse;"cartesian2d"===e.type?(n=o.isHorizontal(),a=!1):"polar"===e.type&&(n="angle"===o.dim,a=!0);var r=t.hostModel,l=r.get("animationDuration");c.t(l)&&(l=l(null));var h=r.get("animationDelay")||0,u=c.t(h)?h(null):h;t.eachItemGraphicEl((function(t,o){var r=t;if(r){var p=[t.x,t.y],d=void 0,g=void 0,m=void 0;if(i)if(a){var f=i,y=e.pointToCoord(p);n?(d=f.startAngle,g=f.endAngle,m=-y[1]/180*Math.PI):(d=f.r0,g=f.r,m=y[0])}else{var v=i;n?(d=v.x,g=v.x+v.width,m=t.x):(d=v.y+v.height,g=v.y,m=t.y)}var b=g===d?0:(m-d)/(g-d);s&&(b=1-b);var S=c.t(h)?h(o):l*b+u,_=r.getSymbolPath(),O=_.getTextContent();r.attr({scaleX:0,scaleY:0}),r.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:S}),O&&O.animateFrom({style:{opacity:0}},{duration:300,delay:S}),_.disableLabelAnimation=!0}}))},e.prototype._initOrUpdateEndLabel=function(t,e,i){var n=t.getModel("endLabel");if(tt(t)){var a=t.getData(),o=this._polyline,s=a.getLayout("points");if(!s)return o.removeTextContent(),void(this._endLabel=null);var r=this._endLabel;r||((r=this._endLabel=new M.a({z2:200})).ignoreClip=!0,o.setTextContent(this._endLabel),o.disableLabelAnimation=!0);var l=function(t){for(var e,i,n=t.length/2;n>0&&(e=t[2*n-2],i=t[2*n-1],isNaN(e)||isNaN(i));n--);return n-1}(s);l>=0&&(Object(m.e)(o,Object(m.c)(t,"endLabel"),{inheritColor:i,labelFetcher:t,labelDataIndex:l,defaultText:function(t,e,i){return null!=i?Object(g.a)(a,i):Object(g.b)(a,t)},enableTextSetter:!0},function(t,e){var i=e.getBaseAxis(),n=i.isHorizontal(),a=i.inverse,o=n?a?"right":"left":"center",s=n?"middle":a?"top":"bottom";return{normal:{align:t.get("align")||o,verticalAlign:t.get("verticalAlign")||s}}}(n,e)),o.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(t,e,i,n,a,o,s){var r=this._endLabel,l=this._polyline;if(r){t<1&&null==n.originalX&&(n.originalX=r.x,n.originalY=r.y);var c=i.getLayout("points"),h=i.hostModel,u=h.get("connectNulls"),p=o.get("precision"),d=o.get("distance")||0,g=s.getBaseAxis(),f=g.isHorizontal(),y=g.inverse,v=e.shape,b=y?f?v.x:v.y+v.height:f?v.x+v.width:v.y,S=(f?d:0)*(y?-1:1),_=(f?0:-d)*(y?-1:1),O=f?"x":"y",x=function(t,e,i){for(var n,a,o=t.length/2,s="x"===i?0:1,r=0,l=-1,c=0;c<o;c++)if(a=t[2*c+s],!isNaN(a)&&!isNaN(t[2*c+1-s]))if(0!==c){if(n<=e&&a>=e||n>=e&&a<=e){l=c;break}r=c,n=a}else n=a;return{range:[r,l],t:(e-n)/(a-n)}}(c,b,O),I=x.range,w=I[1]-I[0],j=void 0;if(w>=1){if(w>1&&!u){var D=$(c,I[0]);r.attr({x:D[0]+S,y:D[1]+_}),a&&(j=h.getRawValue(I[0]))}else{(D=l.getPointOn(b,O))&&r.attr({x:D[0]+S,y:D[1]+_});var M=h.getRawValue(I[0]),N=h.getRawValue(I[1]);a&&(j=A.g(i,p,M,N,x.t))}n.lastFrameIndex=I[0]}else{var P=1===t||n.lastFrameIndex>0?I[0]:0;D=$(c,P);a&&(j=h.getRawValue(P)),r.attr({x:D[0]+S,y:D[1]+_})}a&&Object(m.d)(r).setLabelText(j)}},e.prototype._doUpdateAnimation=function(t,e,i,n,a,o,s){var r=this._polyline,l=this._polygon,c=t.hostModel,u=function(t,e,i,n,a,o,s,r){for(var l=function(t,e){var i=[];return e.diff(t).add((function(t){i.push({cmd:"+",idx:t})})).update((function(t,e){i.push({cmd:"=",idx:e,idx1:t})})).remove((function(t){i.push({cmd:"-",idx:t})})).execute(),i}(t,e),c=[],h=[],u=[],p=[],d=[],g=[],m=[],f=I(a,e,s),y=t.getLayout("points")||[],v=e.getLayout("points")||[],b=0;b<l.length;b++){var S=l[b],_=!0,O=void 0,x=void 0;switch(S.cmd){case"=":O=2*S.idx,x=2*S.idx1;var D=y[O],M=y[O+1],A=v[x],N=v[x+1];(isNaN(D)||isNaN(M))&&(D=A,M=N),c.push(D,M),h.push(A,N),u.push(i[O],i[O+1]),p.push(n[x],n[x+1]),m.push(e.getRawIndex(S.idx1));break;case"+":var P=S.idx,k=f.dataDimsForPoint,C=a.dataToPoint([e.get(k[0],P),e.get(k[1],P)]);x=2*P,c.push(C[0],C[1]),h.push(v[x],v[x+1]);var L=w(f,a,e,P);u.push(L[0],L[1]),p.push(n[x],n[x+1]),m.push(e.getRawIndex(P));break;case"-":_=!1}_&&(d.push(S),g.push(g.length))}g.sort((function(t,e){return m[t]-m[e]}));var T=c.length,E=Object(j.a)(T),z=Object(j.a)(T),G=Object(j.a)(T),V=Object(j.a)(T),R=[];for(b=0;b<g.length;b++){var X=g[b],Y=2*b,H=2*X;E[Y]=c[H],E[Y+1]=c[H+1],z[Y]=h[H],z[Y+1]=h[H+1],G[Y]=u[H],G[Y+1]=u[H+1],V[Y]=p[H],V[Y+1]=p[H+1],R[b]=d[X]}return{current:E,next:z,stackedOnCurrent:G,stackedOnNext:V,status:R}}(this._data,t,this._stackedOnPoints,e,this._coordSys,0,this._valueOrigin),p=u.current,d=u.stackedOnCurrent,g=u.next,m=u.stackedOnNext;if(a&&(p=q(u.current,i,a,s),d=q(u.stackedOnCurrent,i,a,s),g=q(u.next,i,a,s),m=q(u.stackedOnNext,i,a,s)),J(p,g)>3e3||l&&J(d,m)>3e3)return r.stopAnimation(),r.setShape({points:g}),void(l&&(l.stopAnimation(),l.setShape({points:g,stackedOnPoints:m})));r.shape.__points=u.current,r.shape.points=p;var f={shape:{points:g}};u.current!==p&&(f.shape.__points=u.next),r.stopAnimation(),h.f(r,f,c),l&&(l.setShape({points:p,stackedOnPoints:d}),l.stopAnimation(),h.f(l,{shape:{stackedOnPoints:m}},c),r.shape.points!==l.shape.points&&(l.shape.points=r.shape.points));for(var y=[],v=u.status,b=0;b<v.length;b++){if("="===v[b].cmd){var S=t.getItemGraphicEl(v[b].idx1);S&&y.push({el:S,ptIdx:b})}}r.animators&&r.animators.length&&r.animators[0].during((function(){l&&l.dirtyShape();for(var t=r.shape.__points,e=0;e<y.length;e++){var i=y[e].el,n=2*y[e].ptIdx;i.x=t[n],i.y=t[n+1],i.markRedraw()}}))},e.prototype.remove=function(t){var e=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl((function(t,n){t.__temp&&(e.remove(t),i.setItemGraphicEl(n,null))})),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e}(X.a),nt=i(799);var at=i(1570);function ot(t){var e;t.registerChartView(it),t.registerSeriesModel(l),t.registerLayout((e=!0,{seriesType:"line",plan:Object(nt.a)(),reset:function(t){var i=t.getData(),n=t.coordinateSystem,a=t.pipelineContext,o=e||a.large;if(n){var s=Object(c.C)(n.dimensions,(function(t){return i.mapDimension(t)})).slice(0,2),r=s.length,l=i.getCalculationInfo("stackResultDimension");Object(x.c)(i,s[0])&&(s[0]=l),Object(x.c)(i,s[1])&&(s[1]=l);var h=i.getStore(),u=i.getDimensionIndex(s[0]),p=i.getDimensionIndex(s[1]);return r&&{progress:function(t,e){for(var i=t.end-t.start,a=o&&Object(j.a)(i*r),s=[],l=[],c=t.start,d=0;c<t.end;c++){var g=void 0;if(1===r){var m=h.get(u,c);g=n.dataToPoint(m,null,l)}else s[0]=h.get(u,c),s[1]=h.get(p,c),g=n.dataToPoint(s,null,l);o?(a[d++]=g[0],a[d++]=g[1]):e.setItemLayout(c,g.slice())}o&&e.setLayout("points",a)}}}}})),t.registerVisual({seriesType:"line",reset:function(t){var e=t.getData(),i=t.getModel("lineStyle").getLineStyle();i&&!i.stroke&&(i.stroke=e.getVisual("style").fill),e.setVisual("legendLineStyle",i)}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,Object(at.a)("line"))}}}]);