(window.webpackJsonp=window.webpackJsonp||[]).push([[234],{1031:function(t,e,n){},1062:function(t,e,n){"use strict";n(336)},2246:function(t,e,n){"use strict";n.r(e);var a=n(18),i=n.n(a),s=n(0),r=n(8),o=n(2),c=n(54),u=n(821),l=n(717),p=n(811),d={name:"ActionSheet",components:{exposureBlock:c.a,propsMiddle:u.a,UiHalfScreenSheet:l.a,UiHalfScreenSheetItem:p.a},mixins:[s.n],props:{data:{type:Object,default:function(){return{}}}},data:function(){return{renderData:null,d:{},item:{},pos:0,typePos:0}},watch:{data:function(t){var e=this;if((t.sheets.length||t.link)&&(this.$uiHalfScreenTmpl.getIsLeaving()?setTimeout((function(){e.renderData=t,e.$nextTick((function(){e.$refs._halfScreen.show(),setTimeout((function(){var t;null===(t=e.$refs.exposureBlock)||void 0===t||t.analysisExpose()}),500)}))}),this.$uiHalfScreenTmpl.getLeaveDur()||300):(this.renderData=t,this.$nextTick((function(){e.$refs._halfScreen.show(),setTimeout((function(){var t;null===(t=e.$refs.exposureBlock)||void 0===t||t.analysisExpose()}),500)}))),this.data.ctx)){var n=this.data.ctx,a=n.data,i=n.item,s=n.pos,r=n.typePos;this.d=a,this.item=i,this.pos=s,this.typePos=r}},$route:function(t){t.name!==o.f.RESULT&&this.$data.show&&this.hide()}},created:function(){var t=this;r.b.onInputChange((function(){t.hide()})),r.b.onInputConfirm((function(){t.hide()})),r.b.onNewQuery((function(){t.hide()})),s.a.$on(s.k.BACK_BUTTON_CLICK,(function(){t.hide()}))},updated:function(){this.data.sheets.length&&this.data.exposeCallback&&this.data.exposeCallback(this.data.sheets)},methods:{_reset:function(){this.$store.commit({type:"updateActionSheet",title:"",desc:"",sheets:[],style:0})},getTags:function(t){return t.recommendTag||t.tags||"string"!=typeof t.tag&&t.tag},getTitleTags:function(t){return i()(t.tag)===i()("")?[{title:t.tag,type:2}]:t.titleTags||t.titleTag&&t.titleTag.append},hide:function(){var t=this;return new Promise((function(e){t.$refs._halfScreen&&t.$refs._halfScreen.hide(),setTimeout((function(){t._reset(),e()}),250)}))},tapButton:function(t,e,n){var a=this.data;this.hide().then((function(){a.clickButtonCallback&&a.clickButtonCallback(Object.assign(t,{fromActionSheet:1,pos:e+1||0,itemPos:n}))}))},onTapClose:function(){var t=this.data;t.clickHideCallback&&t.clickHideCallback({clickContent:"关闭按钮"})},onTapMask:function(){var t=this.data;t.clickHideCallback&&t.clickHideCallback({clickContent:"蒙层"})},tapLink:function(){var t=this.data;this.hide().then((function(){t.clickLinkCallback&&t.clickLinkCallback()}))},tap:function(t,e,n){var a=this,i=this.data;this.hide().then((function(){a.renderData&&!a.renderData.customJump&&a.M_go(Object.assign({docId:"actionSheet"},t)),i.clickCallback&&i.clickCallback(Object.assign(t,{fromActionSheet:1,pos:e+1||0,itemPos:n}))}))},onPopExpose:function(t){s.a.$emit(s.k.exposeReport,t)}}},f=(n(2543),n(4)),h=Object(f.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.renderData?n("ui-half-screen-sheet",{ref:"_halfScreen",class:t.renderData.className,attrs:{title:t.renderData.title,desc:t.renderData.desc,footer:t.renderData.footer},on:{"tap:link":t.tapLink,"tap:close":t.onTapClose,"tap:mask":t.onTapMask}},[n("exposureBlock",{ref:"exposureBlock",attrs:{attr:"data-report-id"},on:{expose:t.onPopExpose}},[n("propsMiddle",{attrs:{"inject-service-item-ctx":!0,data:t.d,item:t.item,pos:t.pos,"type-pos":t.typePos}},[t._l(t.renderData.sheets,(function(e,a){return n("ui-half-screen-sheet-item",{key:JSON.stringify(e),class:"user-select-"+t.renderData.userSelect,attrs:{"sheet-item":e,"sheet-index":a,title:e.title,desc:e.sub,"title-tags":t.getTitleTags(e),price:e.price,distance:e.distance,source:e.source,tags:t.getTags(e),thumb:e.iconUrl,"jump-text":e.desc,"thumb-type":t.renderData.thumbType||e.thumbType||"account","can-jump":!e.noJump,button:e.button,"can-tap":!e.noTap,"align-center":e.alignCenter},on:{tap:function(n){var i=n.itemPos;return t.tap(e,a,i)},"tap:button":function(n){var i=n.itemPos;return t.tapButton(e,a,i)}}})})),t.renderData.popFooterDesc?n("p",{staticClass:"footer-desc"},[t._v(t._s(t.renderData.popFooterDesc))]):t._e()],2)],1)],1):t._e()}),[],!1,null,"7037f81e",null);e.default=h.exports},2543:function(t,e,n){"use strict";n(1031)},336:function(t,e,n){},371:function(t,e,n){},717:function(t,e,n){"use strict";var a={name:"UiHalfScreenSheet",props:{title:String,desc:String,footer:Object,noSafeAreaInsetBottom:{type:Boolean,default:!1}},methods:{show:function(){this.$refs._halfScreen.show()},hide:function(){this.$refs._halfScreen.hide()},onTapLink:function(){this.$emit("tap:link")}}},i=(n(1062),n(4)),s=Object(i.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ui-half-screen",{ref:"_halfScreen",attrs:{"class-name":{"ui-half-screen-dialog-no-safe-area-inset-bottom":t.noSafeAreaInsetBottom},"can-scroll":"",header:{title:t.title,desc:t.desc,close:!0},footer:t.footer},on:{"tap:link":t.onTapLink,"tap:close":function(e){return t.$emit("tap:close")},"tap:mask":function(e){return t.$emit("tap:mask")},hide:function(e){return t.$emit("hide")}}},[n("div",{staticClass:"ui-half-screen-sheet-wrapper",class:{"ui-wrapper-with-footer":t.footer}},[t._t("default"),n("div",{staticClass:"ui-half-screen-sheet-end-line"})],2)])}),[],!1,null,"dad26306",null).exports;s.install=function(t){t.component(s.name,s)};e.a=s},766:function(t,e,n){"use strict";n(371)},811:function(t,e,n){"use strict";var a=n(1),i=n.n(a);function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}var r={name:"UiHalfScreenSheetItem",mixins:[n(0).n],props:{sheetItem:{type:Object,default:function(){return{}}},sheetIndex:{type:Number,default:0},thumb:String,thumbType:String,title:String,titleTags:Array,price:String,desc:String,distance:String,source:String,tags:Array,canJump:Boolean,canTap:Boolean,selected:Boolean,jumpText:String,button:[Object,String],alignCenter:{type:Boolean,default:!1}},data:function(){return{}},computed:{thumbConfig:function(){return this.getThumbConfig(this.thumbType)},buttonObj:function(){return"string"==typeof this.button?{title:this.button}:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({type:this.button&&this.button.buttonType},this.button||{})}},methods:{onTap:function(){this.$emit("tap",{itemPos:this.M_getItemPos(this.sheetItem.reportId)})},onTapButton:function(){this.$emit("tap:button",{itemPos:this.M_getItemPos(this.buttonObj.reportId)})},getThumbConfig:function(t){switch(t){case"user":return{size:48,borderRadius:4};case"account":default:return{size:40,borderRadius:20}}}}},o=(n(766),n(4)),c=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"active",rawName:"v-active",value:t.canTap||t.canJump,expression:"canTap || canJump"}],staticClass:"ui-half-screen-sheet-item active__absolute",attrs:{role:"button","data-report-id":t.M_itemReportId(t.sheetItem.reportId,t.sheetIndex+1)},on:{click:t.onTap}},[n("ui-image",{staticClass:"ui-half-screen-sheet-avatar",class:{"flex-start":t.buttonObj&&!!t.buttonObj.title&&!t.alignCenter},style:"borderRadius: "+t.thumbConfig.borderRadius/16+"rem",attrs:{type:"img",mode:"avatar",url:t.thumb,size:t.thumbConfig.size}}),n("div",{staticClass:"ui-half-screen-sheet-item-text",attrs:{role:"button"}},[n("div",{staticClass:"ui-title-wrapper"},[n("span",{staticClass:"ui-title"},[t._v(t._s(t.title))]),n("ui-tags",{staticClass:"ui-title-tag",attrs:{tags:t.titleTags}}),n("span",{staticClass:"ui-aria-hidden"},[t._v(".")])],1),t.tags?n("div",{staticClass:"ui-tags-wrapper"},[n("ui-tags",{staticClass:"ui-tag-after-desc",attrs:{flex:"",tags:t.tags}}),n("span",{staticClass:"ui-aria-hidden"},[t._v(".")])],1):t._e(),t.desc||t.price?n("p",{staticClass:"ui-desc"},[t.price?n("span",{staticClass:"ui-price"},[t._v(t._s(t.price))]):t._e(),t.desc?n("span",[n("span",{staticClass:"ui-aria-hidden"},[t._v(".")]),t._v("\n        "+t._s(t.desc)+"\n      ")]):t._e(),n("span",{staticClass:"ui-aria-hidden"},[t._v(".")])]):t._e(),t.distance?n("p",{staticClass:"ui-desc ui-distance"},[n("ui-image",{attrs:{url:"https://res.wx.qq.com/t/fed_upload/8e666c01-bcd4-4e45-8a57-c520636b3ec7/icons_outlined_location.svg",size:20,color:"var(--FG-2)"}}),t._v("\n      "+t._s(t.distance)+"\n    ")],1):t._e(),t.source?n("p",{staticClass:"ui-text-source"},[n("span",{directives:[{name:"xss-html",rawName:"v-xss-html",value:t.source,expression:"source"}]})]):t._e(),t._t("after-text")],2),t.buttonObj&&t.buttonObj.title?n("div",{staticClass:"ui-half-screen-sheet-button-container",class:{"flex-start":!t.alignCenter}},[n("span",{staticClass:"ui-aria-hidden"},[t._v(".")]),n("ui-button",t._b({attrs:{"data-report-id":t.M_itemReportId(t.buttonObj.reportId,t.sheetIndex+1+":"+(t.M_getItemType(t.sheetItem.reportId)||"list")+"|0:"+(t.M_getItemType(t.buttonObj.reportId)||"button"))},nativeOn:{click:function(e){return t.onTapButton.apply(null,arguments)}}},"ui-button",t.buttonObj,!1))],1):t.canJump?n("div",{staticClass:"ui-half-screen-sheet-item-jump"},[t._v("\n    "+t._s(t.jumpText)+"\n    "),n("ui-arrow",{attrs:{gap:""}})],1):t.selected?n("div",{staticClass:"ui-half-screen-sheet-item-selected",attrs:{role:"option","aria-label":"已勾选"}},[n("ui-icon",{attrs:{name:"done"}})],1):t._e()],1)}),[],!1,null,"4e23baa8",null).exports;c.install=function(t){t.component(c.name,c)};e.a=c},821:function(t,e,n){"use strict";var a=n(0),i={name:"Test",mixins:[a.n,a.l],props:{injectServiceItemCtx:{type:Boolean,default:!1},data:{type:Object,default:function(){return{}}},item:{type:Object,default:function(){return{}}},pos:{type:Number,default:0},typePos:{type:Number,default:0}}},s=n(4),r=Object(s.a)(i,(function(){var t=this.$createElement;return(this._self._c||t)("div",[this._t("default")],2)}),[],!1,null,null,null);e.a=r.exports}}]);