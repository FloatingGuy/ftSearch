(window.webpackJsonp=window.webpackJsonp||[]).push([[244],{1541:function(e,t,a){"use strict";a(675)},1543:function(e,t,a){"use strict";a(676)},1544:function(e,t,a){"use strict";a(677)},1545:function(e,t,a){"use strict";a(678)},1546:function(e,t,a){"use strict";a(679)},2166:function(e,t,a){"use strict";a.r(t);var s=a(1),i=a.n(s),n=a(0),r=a(16),o=a(15),c=a(2),u=a(3),p={mixins:[n.l,n.n],props:{data:{type:Object},item:{type:Object,default:function(){return{}}},type:{type:Number,default:0},pos:{type:Number,default:0},typePos:{type:Number,default:0},ts:{type:Number,default:0}},data:function(){return{}},computed:{reportId:function(){return"".concat(this.typePos,"|").concat(this.data.title||"","|").concat(this.type,"|").concat(this.pos,"|").concat(this.item.word)},word:function(){return this.item.wordHighlight||this.item.word},weakTag:function(){return this.item.tagInfo&&2===this.item.tagInfo.showType?this.item.tagInfo:null},strongTag:function(){return this.item.tagInfo&&1===this.item.tagInfo.showType?this.item.tagInfo:null}},methods:{onTapSuggestionSearch:function(){var e=this;this.$emit("tapitem");var t=e.M_composeParentSid({t:c.p.SUG,s:e.$store.state.sug.sugId,did:e.item.word}),a={scene:n.b.scene,businessType:n.b.type,docId:e.item.word,docPos:e.pos,typePos:e.typePos,query:e.item.word,suggestionId:e.$store.state.sug.sugId,resultType:e.item.showType||0,expand:"suggestion",expand1:new Date-e.ts,searchId:""};Object(o.e)(a),e.M_checkSpecialSearchBeforeLaunchNewSearch({query:e.item.word,callback:function(){n.g.setSearchInputWord({query:e.item.word,isInputChange:!1}),u.a.$emit(u.b.GOTO,{page:c.f.RESULT,query:e.item.word,action:c.n.SUG_CLICK,extReqParams:{key:"parentSearchID",textValue:t},searchId:""})},extParams:{crossExtReqParams:[{key:"parentSearchID",textValue:t}]}},a),n.f.suggestion.reportCommonClick(this.reportId),Object(r.g)(n.m.feature.sug),n.f.reportEventTrack({actionType:18,query:e.item.word})},onTapSuggestionAddto:function(){var e=this;n.g.setSearchInputWord({query:e.item.word,isInputChange:!0}),n.f.suggestion.reportCommonClick(this.reportId),Object(o.e)({scene:n.b.scene,businessType:n.b.type,docId:e.item.word,docPos:e.pos,typePos:e.typePos,expand:"suggestionAttach",suggestionId:e.$store.state.sug.sugId,resultType:e.item.showType||0,searchId:""}),Object(r.g)(n.m.feature.sugAdd),this.$emit("tapaddto")}}},d=(a(1541),a(4)),l=Object(d.a)(p,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"active",rawName:"v-active.instant",modifiers:{instant:!0}}],staticClass:"sug__simple active__item",attrs:{"data-sug-id":e.reportId},on:{click:e.onTapSuggestionSearch}},[a("div",{staticClass:"line"},[a("svg-icon",{attrs:{"aria-hidden":"true","class-name":"sug__simple-icon line__item no-shrink",name:"magnifier"}}),a("div",{staticClass:"line line__item primary",attrs:{role:"button"}},[a("p",{staticClass:"line__item",domProps:{innerHTML:e._s(e.xss(e.word))}}),e.weakTag?a("ui-tag",{staticClass:"line__item no-shrink",staticStyle:{"margin-left":"6px"},attrs:{title:e.weakTag.title,type:e.weakTag.type,"icon-url":e.weakTag.iconUrl,"no-bg":"true"}}):e._e()],1),e.os.mobile?a("div",{staticClass:"line__item no-shrink",staticStyle:{"margin-left":"12px"},attrs:{role:"button","aria-label":"添加到搜索栏"}},[a("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"sug__simple-active active__opacity",on:{click:function(t){return t.stopPropagation(),e.onTapSuggestionAddto.apply(null,arguments)}}},[a("svg-icon",{staticClass:"sug__simple-end",attrs:{name:"arrow.up.left"}})],1)]):e._e()],1),e.strongTag?a("div",{staticClass:"line",staticStyle:{"margin-top":"8px"},attrs:{"aria-hidden":"true"}},[a("div",{staticClass:"line__item no-shrink sug__simple-occupy"}),a("ui-tag",{staticClass:"line__item",attrs:{title:e.strongTag.title,type:e.strongTag.type,"icon-url":e.strongTag.iconUrl,size:"big","no-bg":"true"}})],1):e._e()])}),[],!1,null,null,null).exports,m=a(482);function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){i()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var y={components:{simple:l},mixins:[m.a],props:{data:{type:Object},item:{type:Object,default:function(){return{}}},type:{type:Number,default:0},pos:{type:Number,default:0},typePos:{type:Number,default:0},ts:{type:Number,default:0},index:{type:Number,default:0},blockIndex:{type:Number,default:0}},methods:{tap:function(){1===this.item.showType?this.$refs.GeneralSug.tap():this.$refs.GeneralSug.onTapSuggestionSearch()},onTapItem:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.M_clickReportFor26897(this.item,this.blockIndex,e)},onTapAddTo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.M_clickReportFor26897(h(h({},this.item),{},{docType:"upbutton"}),this.blockIndex,h(h({},e),{},{actionId:3216}))}}},I=(a(1543),Object(d.a)(y,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return 1===e.item.showType?a("div"):a("simple",e._b({ref:"GeneralSug",attrs:{"data-new-teach-report-id":""+e.M_getItemReportId(e.item,e.blockIndex)},on:{tapitem:e.onTapItem,tapaddto:e.onTapAddTo}},"simple",e.$props,!1))}),[],!1,null,null,null).exports),f=a(51),T=a(5),_=(a(30),{components:{clientImage:a(82).a},mixins:[n.n,n.l,m.a],props:["data","item","type","tapCb","pos","typePos","index","blockIndex"],data:function(){return{isActive:!1,isVerify:!1,isTradmarkProtection:!1}},computed:{reportId:function(){return"".concat(this.typePos,"|").concat(this.data.title||"","|").concat(this.type,"|").concat(this.pos,"|").concat(this.item.nickName)}},methods:{onTap:function(){var e=this,t=e.item.nickName,a={scene:n.b.scene,businessType:n.b.type,docId:t,docPos:e.pos,typePos:e.typePos,clickType:1,suggestionId:e.$store.state.sug.sugId,searchId:""};Object(o.e)(a);var s={};if(n.b.type!=T.b.OFFICE_ACCOUNT&&3!=this.item.opType||(s.actionId=c.g.BIZ),this.M_clickReportFor26897(e.item,e.blockIndex,s),e.item.jumpInfo)e.M_go(e.item.jumpInfo);else if(n.b.type==T.b.OFFICE_ACCOUNT||3==this.item.opType)e.M_jump(Object.assign(this.item,{type:1,bizuin:this.item.bizuin||this.item.docID,opType:this.item.opType||c.c.bizSession,query:n.b.query,searchId:n.b.searchId,extraParams:"from_sug=1&search_type=1&docid=".concat(decodeURIComponent(this.item.docID),"&scene=").concat(n.b.scene),reportDocId:t}));else{e.$store.commit({type:"result/updateMoment",tagInfo:{tagType:c.q.BIZFEEDS,tagText:""},matchUser:{matchWord:t,userName:e.item.docID},nextObjID:"",tagList:[{tagName:t,tagType:c.q.BIZFEEDS}]});var i=e.M_composeParentSid({t:c.p.SUG,s:e.$store.state.sug.sugId,did:t});e.M_checkSpecialSearchBeforeLaunchNewSearch({query:t,callback:function(){n.b.setValue({custom:""}),n.g.setSearchInputWord({query:t,custom:"",tagList:[{tagName:t,tagType:c.q.BIZFEEDS,userName:e.item.userName}],isInputChange:!1}),n.a.$emit(n.k.GOTO,{page:c.f.RESULT,query:t,extReqParams:{key:"parentSearchID",textValue:i},action:c.n.SUG_BIZ_CLICK,searchId:""})},extParams:{crossExtReqParams:[{key:"parentSearchID",textValue:i}]}},a)}Object(r.e)(f.a.detail.suggestion.suggestionItemBiz),n.f.suggestion.reportCommonClick(this.reportId),e.item.needEnterHistory&&n.e.storeHistory({type:n.b.type,query:t,scene:n.b.scene,docPullType:1})},onTapContact:function(){n.a.$emit(n.k.RESET_MOMENT_FILTER);var e=this,t=e.item.nickName;e.$store.commit({type:"result/updateMoment",nextObjID:"",tagInfo:{tagType:c.q.SNSALBUM,tagText:""},matchUser:{matchWord:t,userName:e.item.userName},tagList:[{tagName:t,tagType:c.q.SNSALBUM}]});var a=e.M_composeParentSid({t:c.p.SUG,s:e.$store.state.sug.sugId,did:t}),s={scene:n.b.scene,businessType:n.b.type,docId:t,docPos:e.pos,typePos:e.typePos,clickType:1,suggestionId:e.$store.state.sug.sugId,searchId:""};Object(o.e)(s),this.M_clickReportFor26897(e.item,e.blockIndex,{actionId:c.g.ALL_SEARCH}),e.M_checkSpecialSearchBeforeLaunchNewSearch({query:t,callback:function(){n.g.setSearchInputWord({query:t,custom:"",tagList:[{tagName:t,tagType:c.q.SNSALBUM,userName:e.item.userName}],isInputChange:!1}),n.b.custom="",n.a.$emit(n.k.GOTO,{page:c.f.RESULT,query:t,extReqParams:{key:"parentSearchID",textValue:a},action:c.n.SUG_CONTACT_CLICK,searchId:""})},extParams:{crossExtReqParams:[{key:"parentSearchID",textValue:a}]}},s),Object(r.e)(f.a.detail.suggestion.suggestionItemContact),n.f.suggestion.reportCommonClick(this.reportId)},tap:function(){3===this.type?this.onTapContact():this.onTap()}}}),b=Object(d.a)(_,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return 3==e.type?a("div",{staticClass:"weui-cell sug_biz",class:{active:e.isActive},attrs:{"data-sug-id":e.reportId,"data-new-teach-report-id":""+e.M_getItemReportId(e.item,e.blockIndex),role:"button"},on:{click:e.onTapContact}},[a("div",{staticClass:"weui-cell_hd"},[a("client-image",{key:e.item.userName,staticClass:"sug__moment-thumb",attrs:{item:e.item,type:8}})],1),a("div",{staticClass:"weui-cell__bd biz_item"},[a("h4",{domProps:{innerHTML:e._s(e.xss(e.item.nickNameHighlight||e.item.nickName))}}),e.item.extraHighlight?a("p",{staticClass:"biz_account_tips",domProps:{innerHTML:e._s(e.xss(e.item.extraHighlight))}}):e._e()])]):a("div",{staticClass:"weui-cell sug_biz",class:{active:e.isActive},attrs:{"data-new-teach-report-id":""+e.M_getItemReportId(e.item,e.blockIndex),docid:e.item.docID,"data-sug-id":e.reportId,role:"button"},on:{click:e.onTap}},[a("div",{staticClass:"weui-cell_hd"},[a("div",{directives:[{name:"image",rawName:"v-image",value:e.item.iconUrl,expression:"item.iconUrl"}],staticClass:"sug__biz-thumb"})]),a("div",{staticClass:"weui-cell__bd biz_item"},[a("h4",{domProps:{innerHTML:e._s(e.xss(e.item.nickNameHighlight||e.item.nickName))}}),e.item.extraHighlight?a("p",{staticClass:"biz_account_tips",domProps:{innerHTML:e._s(e.xss(e.item.extraHighlight))}}):e._e()])])}),[],!1,null,null,null).exports,S={mixins:[n.n],props:{data:{type:Object,default:function(){return{}}},item:{type:Object,default:function(){return{}}}},data:function(){return{fixed:!1}},mounted:function(){this._calculateHeight()},methods:{_calculateHeight:function(){var e=this.$parent.$parent.$el.clientHeight,t=this.$el.clientHeight,a=n.g.getWindowHeight();this.fixed=e+t<a},tap:function(){this.M_go(this.item)}}},O=(a(1544),Object(d.a)(S,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"sug-complaint",class:{fixed:this.fixed}},[t("span",{directives:[{name:"active",rawName:"v-active"}],staticClass:"active__opacity",attrs:{role:"link"},on:{click:this.tap}},[this._v("\n    "+this._s(this.item.word)+"\n  ")])])}),[],!1,null,null,null).exports),v=a(10),E=new v.a({complaint:1}),R={components:{complaint:O},props:{data:{type:Object,default:function(){return{}}}},data:function(){return{types:E}}},C=(a(1545),Object(d.a)(R,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sug-bottom"},e._l(e.data.items,(function(t,s){return a(e.types[t.type],e._b({key:s,tag:"components",attrs:{item:t}},"components",e.$props,!1))})),1)}),[],!1,null,null,null).exports),P=a(8),w=a(17),x=new v.a({WORD:1,BIZ:2,CONTACT:3,HISTORY:4}),N={requestType:new v.a({net:0,local:1}),sugType:x};Object.freeze(N);var k=a(52),D=a(50);function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(Object(a),!0).forEach((function(t){i()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var L={components:{general:I,contactSug:b,bottom:C,exposureBlock:a(54).a},mixins:[n.n,m.a],props:{selectIndex:{type:Number,default:-1}},data:function(){return{sugRequestId:"",isShow:!1,dataReadyTs:0,deviceType:n.b.deviceType,isKeybordShow:!0}},computed:{suggestoinObj:function(){return this.$store.state.sug.data},bottom:function(){var e=this,t=this,a=t.$store.state.sug.bottom;return a&&a.items&&a.items.length&&a.items.forEach((function(a){if(1==a.type&&a.jumpUrl&&!a.jumpUrl.includes("relatedWords")){var s=[];e.suggestoinObj.map((function(e){e.items&&e.items.length&&(s=s.concat(e.items.map((function(e){return e.word}))))})),a.jumpUrl=t.M_composeUrl(a.jumpUrl,{relatedWords:s.join("|")})}})),a}},watch:{$route:function(e){e.name===c.f.SUG?this.$store.dispatch({type:"sug/handleSug",data:{}}):e.name!==c.f.INDEX&&e.name!==c.f.TEACH||this.$store.commit({type:"sug/updateState",sugSession:null})}},created:function(){var e=this,t=this;t.query="",t.lastQuery="",t.inputFinishTimestamp=+new Date,t.preGetSearchDataTimeout=null,t.preGetSearchDataArgs="",t.preGetSearchDataResolve=null;t.$store.getters.getExtReqParams;n.b.parentType==c.p.LOCALRELEVANT_MORE&&(Global.os.android&&t.$store.commit("result/generateGetSearchRid",{requestId:n.g.generateGuuId()}),n.b.setValue({parentType:c.p.MARK_LOCALRELEVANT_MORE}));var a=t.$route.params.option,s=void 0===a?{}:a;s.query&&(s.cache&&"{}"!==s.cache?(t.handleSugData({json:s.cache}),t.lastQuery=t.query,t.query=s.query):t.getData({query:s.query})),P.b.onInputChange((function(a){e.isKeybordShow=!0,t.inputFinishTimestamp=+new Date,a.query&&(t.getData(a),k.a.isSupportSugPreSearchOnInputChange&&t._preGetSearchData()),t.$store.commit("result/updateCacheArgs",null),t.$store.commit("result/updateCachePromise",null)})),P.b.onInputConfirm((function(a){clearTimeout(t.preGetSearchDataTimeout),n.f.reportEventTrack({actionType:17,timeStamp:t.inputFinishTimestamp,query:a.query||n.b.query}),e.$store.commit({type:"sug/updateState",sugSession:{type:2,sessionId:"sug_sid_".concat(Date.now())}})})),P.b.onSugReady((function(e){var a=function(){try{return JSON.parse(e.json)}catch(t){return{}}}();if(a.requestID&&t.sugRequestId&&a.requestID!==t.sugRequestId){var s="receive rid[".concat(a.requestID,"] !== send rid[").concat(t.sugRequestId,"]");P.a.log({key:"onSugReady",msg:s})}else t.handleSugData(e)})),P.b.onResultReady((function(e){e.requestId,t.preGetSearchDataArgs.requestId,e.requestId&&e.requestId===t.preGetSearchDataArgs.requestId&&(t.$store.commit("result/cacheResultData",e),t.preGetSearchDataResolve(e))}))},mounted:function(){var e=this,t=this;t.expose=null,this.$nextTick().then((function(){e.expose||(t.expose=new D.Expose((function(e){e.length&&n.f.suggestion.reportCommonExpose(e)}),{container:t.$el,attr:"data-sug-id"}))}))},activated:function(){this.$store.state.sug.sugSession||this.$store.commit({type:"sug/updateState",sugSession:{type:1,sessionId:"sug_sid_".concat(Date.now())}})},methods:{handleTouchmove:function(){[c.e.S1S,c.e.GLOBAL_HISTORY,c.e.GLOBAL,c.e.KEYBORD_PRELOAD].includes(n.b.scene)&&Global.os.android&&this.isKeybordShow&&(P.a.setInputBar({query:n.b.query,isInputChange:!1}),this.isKeybordShow=!1)},reportSugSession:function(){var e=(this.$store.state.sug.sugSession||{}).sessionId,t=this.$store.state.sug.sugId,a=this.deviceType;t&&P.a.getCommonCgiData({cgiName:w.a.mmDataReport,data:{clientversion:Number(n.b.clientVersion),device:a,item_list:[{logid:24687,log_buffer:["",t,n.b.scene,n.b.isHomePage,n.b.type,e].join(",")}]}})},getData:function(e){var t=this;if(!(e.query===t.query&&n.b.parentType==c.p.MARK_LOCALRELEVANT_MORE||[c.e.BIZ_SPECIFIC,c.e.MP_INNER_TOP_RIGHT_SEARCH,c.e.MP_TOP_RIGHT_SEARCH_ENTER,c.e.EXTLINK_TOP_RIGHT_SEARCH_ENTER].includes(n.b.scene)&&n.b.isMpVertical)){var a=Object.assign({query:n.b.query},e);t.getSearchSuggestionData(a),t.lastQuery=t.query,t.query=a.query}},clearData:function(){this.$store.commit("sug/updateState",{data:[]})},_preGetSearchData:function(){var e=this;e.lastQuery!==e.query&&!/\w/.test(e.query)&&e.query.length>1&&n.b.preSearchSwitch&&(clearTimeout(e.preGetSearchDataTimeout),e.preGetSearchDataTimeout=setTimeout((function(){e.preGetSearchData(e.query)}),100))},getSearchSuggestionData:function(e){var t=this;if(n.b.scene!=c.e.LIVE_INNER_SEARCH||17!=n.b.type){var a=n.g.generateGuuId();this.sugRequestId=a;var s=[{key:"requestId",textValue:a}];n.b.parentType==c.p.MARK_LOCALRELEVANT_MORE&&s.push({key:"sugActionType",uintValue:1}),P.a.getSug({requestId:a,scene:n.b.scene,version:n.b.version,query:e.query||"",type:n.b.type,isHomePage:n.b.isHomePage,requestType:e.requestType||8===n.b.type&&N.requestType.local,sugId:"",sessionId:n.b.sessionId,extReqParams:s})}else{var i=n.g.generateGuuId();P.a.extTransfer({reqUrl:"/cgi-bin/micromsg-bin/h5_findersearchsuggest",reqBody:JSON.stringify({scene:13,query:e.query||"",finder_basereq:{scene:180,ctx_info:{context_id:n.b.thirdExtParamFinderLiveContextId},request_id:String(Date.now())}}),header:{},scope:"wxSearchFinder",cgiCmdId:10129,needVerifySignature:0},(function(e){var a=JSON.parse(e.result),s=(a||{}).suggest,n=void 0===s?[]:s,r={json:JSON.stringify({bottomEntry:{items:[]},data:[{count:n.length,items:n.map((function(e){return{word:e.suggest,wordHighlight:(e.highlight_suggest||"").replace(/<em class=("|')highlight("|')>(.*?)<\/em>/gi,(function(e,t,a,s){return'<em class="gray">'.concat(s,"</em>")}))}})),type:1}],ret:0,suggestionID:i,total_count:n.length}),jsonRefer:0};t.$store.dispatch({type:"sug/handleSug",data:r}),t.reportSugSession(),t.dataReadyTs=+new Date,setTimeout((function(){t.expose&&(t.expose.resetExposeId(),t.expose.analysis())}))}))}},preGetSearchData:function(e){var t=this,a=t.$store.state.result;if(!a.self.base.isLoading){var s=n.g.generateGuuId(),i=[{key:"netType",textValue:n.b.netType},{key:"subType",uintValue:+n.b.subType,textValue:n.b.subType?"".concat(n.b.subType):""},{key:"currentPage",uintValue:1},{key:"requestId",textValue:s},{key:"cookies",textValue:a.state.cookies},{key:"widgetVersion",uintValue:1023022}].concat(n.b.crossExtReqParams),r=Object.assign(q(q({},n.b.getBase()),{},{query:e||"",offset:0,tagInfo:t.$store.getters["result/tagInfo"],type:n.b.type,isHomePage:n.b.isHomePage,subType:n.b.subType,sceneActionType:c.r.PRE_SEARCH,matchUser:t.$store.getters["result/matchUser"],numConditions:a.moment.numConditions,extReqParams:i,requestId:s,fromTagSearch:n.b.queryString.fromTagSearch,extClientParams:n.b.queryString.extClientParams,isBackButtonClick:!0}),{parentSearchID:"",sugId:""});P.a.getResult(r),t.preGetSearchDataArgs=r,t.$store.commit("result/cacheResultData",{}),t.$store.commit("result/updateCacheArgs",t.preGetSearchDataArgs),t.$store.commit("result/updateCachePromise",new Promise((function(e){t.preGetSearchDataResolve=e}))),n.f.reportEventTrack(Object.assign({actionType:3,requestId:s,isPreload:100},r))}},getListIndex:function(e,t){return e?t+this.suggestoinObj.slice(0,e).reduce((function(e,t){var a=t.items;return e+(void 0===a?[]:a).length}),0):t},tapIndex:function(e){this.$refs.SugItem.find((function(t){return t.index===e})).tap()},handleSugData:function(e){var t=this;this.$store.dispatch({type:"sug/handleSug",data:e}),this.reportSugSession(),k.a.isSupportSugPreSearchOnInputChange||this._preGetSearchData(),this.dataReadyTs=+new Date,setTimeout((function(){t.expose&&(t.expose.resetExposeId(),t.expose.analysis())}))}}},A=(a(1546),Object(d.a)(L,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"suggestion-list",on:{touchmove:e.handleTouchmove}},[e._l(e.suggestoinObj,(function(t,s){return a("div",{key:s,staticClass:"weui-cells suggestion-section",style:{marginTop:e.os.mobile&&s>0?"5px":0}},[a("exposure-block",{attrs:{attr:"data-new-teach-report-id"},on:{expose:e.M_exposeReportFor26897}},[t.title?a("div",{staticClass:"weui-cells_title"},[e._v("\n        "+e._s(t.title)+"\n      ")]):e._e(),e._l(t.items,(function(i,n){return[1==t.type||4==t.type?a("general",{key:n+""+s,ref:"SugItem",refInFor:!0,class:{active:e.selectIndex===e.getListIndex(s,n)},attrs:{index:e.getListIndex(s,n),data:t,item:i,type:t.type,pos:n+1,"type-pos":s+1,"block-index":n+1,ts:e.dataReadyTs}}):e._e(),2==t.type||3==t.type?a("contactSug",{key:n+""+s,ref:"SugItem",refInFor:!0,class:{active:e.selectIndex===e.getListIndex(s,n)},attrs:{index:e.getListIndex(s,n),data:t,item:i,type:t.type,pos:n+1,"block-index":n+1,"type-pos":s+1}}):e._e()]}))],2)],1)})),e.os.mobile&&e.bottom?a("bottom",{attrs:{data:e.bottom}}):e._e()],2)}),[],!1,null,null,null));t.default=A.exports},30:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var s={GLOBAL:3,VERTICAL:14,BIZ_SPECIFIC:19,S1S:20,S1S_VERTICAL:22,HOME_TOP_ENTRY:42,HOME_TOP_MORE_ENTRY:52,WXAPP:201,GLOBAL_HISTORY:101,GLOBAL_RECOMMEND:102,GLOBAL_FESTIVAL:131}},482:function(e,t,a){"use strict";var s=a(1),i=a.n(s),n=a(24),r=a.n(n),o=a(2),c=a(19),u=a(0),p=a(3);function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){i()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var m={computed:{isCache:function(){var e;return(null===(e=this.$store.state.teach.teachData)||void 0===e?void 0:e.isCache)||!1}},methods:{M_genClickId:function(){var e,t,a,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=this.$route.name==o.f.SUG?null===(e=this.$store)||void 0===e||null===(t=e.state)||void 0===t||null===(a=t.sug)||void 0===a?void 0:a.sugId:u.b.searchId;return[s.searchId||i,s.timestamp||+new Date,"".concat(Math.random()).substr(2,10)].join("-")},M_getItemReportId:function(e,t,a){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=this.M_getBlockType(a);return[this.M_getBlockReportId(a,i),this.M_getItemReportContent(e,t,i),this.M_getReportIdExposeInfo(s)].join("$$")},M_getBlockReportId:function(e,t){var a,s,i=e||this,n=i.targetPos||i.displayPos||i.typePos||0,r=i.name||(null===(a=i.block)||void 0===a?void 0:a.title)||(null===(s=i.data)||void 0===s?void 0:s.title)||"";return t==c.a.teachType.HISTORY_IN_SINGLE_PAGE?(n=n||1,r=r||"搜索历史"):this.M_getPageType()==c.a.pageType.SUGGESTION&&(r=r||"SUG"),"".concat(n,"|").concat(t,"|").concat(encodeURIComponent(r))},M_getReportIdExposeInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return JSON.stringify(e)},M_getItemReportContent:function(e,t,a){if(!e)return"";var s=void 0!==e.isDisplay?e.isDisplay:1,i=e.reason||"",n=e.docPullType||e.source||"",r=t||0,p=t||0,d=encodeURIComponent(e.nickName||e.appname||e.hotword||e.word||""),l=this.M_getDocType(e,a),m=e.username||e.userName||e.jumpInfo&&e.jumpInfo.username||e.jumpInfo&&e.jumpInfo.userName||"",g=e.appuin,h=e.appid||e.jumpInfo&&e.jumpInfo.appid||"",y=e.id||"",I=e.docId||g||h||m||encodeURIComponent(y)||d||"";if(this.M_getPageType()==c.a.pageType.TEACH)switch(a){case c.a.teachType.HOTWORD:case c.a.teachType.HISTORY_SUBSCRIPTIONS:case c.a.teachType.HOTSEARCHVIEW_ENTRIES:case c.a.teachType.HISTORY:case c.a.teachType.RECOMMEND_BOX:I=encodeURIComponent(e.hotword||e.word||"");break;case c.a.teachType.MUSIC_LIST:I=encodeURIComponent("".concat(e.hotword||"").concat(e.desc?"(".concat(e.desc,")"):"")),d=""}else if(this.M_getPageType()==c.a.pageType.DISCOVER_S1S_INDEX)switch(a){case 21:I=encodeURIComponent(e.title)}else if(this.M_getPageType()==c.a.pageType.HISTORY)switch(a){case c.a.teachType.HISTORY_IN_SINGLE_PAGE:I=encodeURIComponent(e.hotword||e.word||"")}return u.b.scene!=o.e.HOME_TOP_ENTRY||a!=c.a.teachType.HISTORY_SUBSCRIPTIONS||n||(n=0),"".concat(r,"|").concat(p,"|").concat(I,"|").concat("","|").concat(s,"|").concat(d,"|").concat(i,"|").concat("","|").concat(l,"|").concat(n)},M_exposeReportFor26897:function(e){if(e.length&&!this.disable26897()){var t=this,a={};e.forEach((function(e){var t=e.split("$$"),s=r()(t,3),i=s[0],n=s[1],c=s[2],u=void 0===c?"{}":c,p={};try{p=JSON.parse(u)}catch(m){}if(i){var d=p.actionId||o.g.EXPOSE_DOC,l="".concat(i,"@").concat(d);a[l]=(a[l]||[]).concat([n])}})),p.a.$emit(p.b.TEACH_NEW_EXPOSE,{reportMap:a,isCache:t.isCache}),Object.keys(a).forEach((function(e){var s=e.split("@"),i=r()(s,2),n=i[0],c=i[1];u.f.teach.commonTeachReport({itemInfo:n,docInfo:Array.from(new Set(a[e])).join("#"),pageType:t.M_getPageType(),actionId:Number(c)||o.g.EXPOSE_DOC,isCache:t.isCache})}))}},M_pullReportFor26897:function(){var e=this.M_getPageType("");u.f.teach.commonTeachReport({itemInfo:"",docInfo:"",actionId:1001,pageType:e})},M_clickReportFor26897:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.disable26897(s&&s.pageName||"")){var i=this,n=i.M_getPageType(s&&s.pageName||""),c=a.actionId||this.M_getActionId(e,n),p=e.itemReportId||this.M_getItemReportId(e,t,s),d=p.split("$$"),m=r()(d,2),g=m[0],h=m[1],y=a.clickId||i.M_genClickId(a);i.$store.commit({type:"teach/updateState",clickReportId:y});var I=this.getJumpParamFor25661(e,c);c>=3001&&c<=3019&&u.f.reportJumpType(Object.assign({subType:null==g?void 0:g.split("|")[1],pageType:n,docId:null==h?void 0:h.split("|")[2],newSearchType:o.h.searchType.DOC_SEARCH},I)),u.f.teach.commonTeachReport(l(l({itemInfo:g,docInfo:h,actionId:c,pageType:n},a),{},{isCache:i.isCache,extInfo:encodeURIComponent(JSON.stringify({clickId:y}))}))}},M_getActionId:function(e,t){var a,s=(null==e?void 0:e.jumpType)||(null==e||null===(a=e.jumpInfo)||void 0===a?void 0:a.jumpType)||0;return s?3e3+parseInt(s):[c.a.pageType.SUGGESTION,c.a.pageType.HISTORY].includes(t)?[o.e.GLOBAL,o.e.KEYBOARD_HISTORY,o.e.GLOBAL_HISTORY,o.e.GLOBAL_RECOMMEND,o.e.GLOBAL_FESTIVAL,o.e.GLOBAL_HIS_S1S_ENTRY,o.e.FINGER,o.e.S1S].includes(u.b.scene)?o.g.ALL_SEARCH:o.g.VERTICAL:o.g.CLICK_COMMON},M_getDocType:function(e,t){var a,s=(a={},i()(a,o.h.jumpType.WE_APP,c.a.docItemType.WEAPP),i()(a,o.h.jumpType.BIZ,c.a.docItemType.BIZ),a),n=e.jumpType||e.jumpInfo&&e.jumpInfo.jumpType||0;return e.docType?e.docType:this.getDocTypeByBlockType(t)?this.getDocTypeByBlockType(t):this.M_getPageType()==c.a.pageType.DISCOVER_S1S_INDEX?"title":n?s[n]:this.M_getPageType()==c.a.pageType.SUGGESTION?c.a.docItemType.SUGGEST_WORD:"title"},getDocTypeByBlockType:function(e){switch(e){case c.a.teachType.HISTORY_IN_SINGLE_PAGE:return c.a.docItemType.HISTORY_WORD;case c.a.teachType.HOTWORD:case c.a.teachType.RECOMMEND_BOX:return c.a.docItemType.SUGGEST_WORD;case c.a.teachType.FINDER_HOT_LIST:return c.a.docItemType.FINDER_HOT_VIDEO;case c.a.teachType.PAGE_SETTING:return c.a.docItemType.SETTING;default:return""}},M_getBlockType:function(e){var t=e||this,a=t.block&&t.block.type||t.data&&t.data.type||0;return t.pageName!=o.f.HISTORY&&this.$route.name!=o.f.HISTORY||(a=c.a.teachType.HISTORY_IN_SINGLE_PAGE),a},M_getPageType:function(e){switch(e||this.$route.name){case o.f.HISTORY:return c.a.pageType.HISTORY;case o.f.SUG:return c.a.pageType.SUGGESTION;case o.f.INDEX:return c.a.pageType.DISCOVER_S1S_INDEX;default:return c.a.pageType.TEACH}},disable26897:function(e){return!1},getJumpParamFor25661:function(e,t){var a=e.jumpInfo||{},s=e.jumpType||a.jumpType||t-3e3,i=o.h.jumpType,n={};switch(s){case i.BIZ:n.bizUsername=a.userName||e.userName;break;case i.WE_APP:n.weappUsername=a.userName||a.username||e.userName||e.username,n.jumpPath=a.weappUrl||a.relativeURL||e.weappUrl||e.relativeURL;break;case i.H5:n.jumpUrl=a.jumpUrl||e.jumpUrl;break;case i.CALL_SPEC_API:n.apiName=a.api,n.apiParams=encodeURIComponent(a.apiParams)}var r=[i.VERTICAL,i.ALL_SEARCH];return l(l({},n),{},{jumpType:s,clickType:r.includes(s)?2:1,newSearchType:r.includes(s)?o.h.searchType.DOC_SEARCH:""})}}};t.a=m},675:function(e,t,a){},676:function(e,t,a){},677:function(e,t,a){},678:function(e,t,a){},679:function(e,t,a){}}]);