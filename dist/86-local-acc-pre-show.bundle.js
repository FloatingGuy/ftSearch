(window.webpackJsonp=window.webpackJsonp||[]).push([[275,134],{1469:function(e,t,i){"use strict";i.r(t);var s=i(0),r=i(16),n=i(495),c=i(485),a={components:{UiFrontTextEllipsis:i(599).a},mixins:[s.n,n.a,s.l],inject:{reportStayTime:{default:function(){return function(){}}}},props:{data:{type:Object,default:function(){return{}}},item:{type:Object,default:function(){return{}}},pos:{type:Number,default:0},typePos:{type:Number,default:0},role:String,allServiceListInContext:{type:Array,default:function(){return[]}}},computed:{tags:function(){return this.item.recommendTag||this.item.tags||this.item.tag},allowTwoLine:function(){return s.b.fontRatio>1}},methods:{onTapProvider:function(e){if(Object(c.a)(this.item)){e.stopPropagation();var t="$.items[".concat(this.pos-1,"]");this.M_serviceSearchGo(this.item),this.M_clickReport({pos:this.pos,clickZone:t,title:this.item.nickName,expand:this.item.subScene,clickContent:[this.item.nickName,this.item.nickName,this.item.userName].join(";")}),this.M_handleInsert(!1,{serviceIdList:this.allServiceListInContext.map((function(e){return e.id})),serviceTitleList:this.allServiceListInContext.map((function(e){return e.title}))}),Object(r.f)(s.m.detail2.ssProvider)}},onTapService:function(e,t){var i="$.items[".concat(this.pos-1,"].serviceList[").concat(t,"]");this.$emit("tap-service",e,t),this.handleProviderJump(Object.assign({title:e.name,clickInfo:{serviceId:this.M_getJumpServiceId(e),serviceTitle:e.name||"",serviceIdList:this.allServiceListInContext.map((function(e){return e.id})),serviceTitleList:this.allServiceListInContext.map((function(e){return e.title}))}},this.item,e)),"function"==typeof this.reportStayTime&&this.reportStayTime(t,this.M_clickReport({clickZone:i,title:e.name,expand:e.subScene,clickContent:[e.name,this.item.nickName,this.item.userName].join(";")},e)),this.M_handleInsert(!1,{serviceId:this.M_getJumpServiceId(e),serviceTitle:e.name||"",serviceIdList:this.allServiceListInContext.map((function(e){return e.id})),serviceTitleList:this.allServiceListInContext.map((function(e){return e.title}))}),Object(r.f)(s.m.detail2.ssService)}}},o=(i(3039),i(4)),l=Object(o.a)(a,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"active",rawName:"v-active",value:!!(e.item.jumpInfo||e.item.jumpUrl||e.item.userName),expression:"!!(item.jumpInfo || item.jumpUrl || item.userName)"}],staticClass:"sevice-search service-list expose_log_elem",attrs:{"data-id":e.M_exposeId()},on:{click:function(t){return e.onTapProvider(t)}}},[e.item.iconUrl?i("div",{directives:[{name:"image",rawName:"v-image:avatar",value:e.item.iconUrl,expression:"item.iconUrl",arg:"avatar"}],staticClass:"logo"}):e._e(),i("div",{staticClass:"content"},[e.item.nickNameHighlight||e.item.desc?i("div",{staticClass:"content-header",class:{bordered:e.item.bordered}},[i("h3",{staticClass:"ellipsis_1",attrs:{role:"button"},domProps:{innerHTML:e._s(e.xss(e.item.nickNameHighlight))}}),e.item.desc?i("ui-front-text-ellipsis",{staticClass:"sevice-search__desc",attrs:{"aria-hidden":"true",list:e.item.desc.split("#ellipsis#")}}):e._e()],1):e._e(),e.item.serviceList&&e.item.serviceList.length?i("div",{staticClass:"heavy-links service-list"},e._l(e.item.serviceList,(function(t,s){return i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],key:s,staticClass:"heavy-link",attrs:{role:"button","data-report-id":e.M_itemReportId(t.reportId,s+1)},on:{click:function(i){return i.stopPropagation(),e.onTapService(t,s)}}},[i("div",{staticClass:"heavy-link__inner"},[i("div",{class:e.allowTwoLine?"ellipsis_2":"ellipsis_1"},[e._v("\n            "+e._s(t.name)+"\n          ")]),t.desc?i("div",{staticClass:"link-desc ellipsis_2",attrs:{"aria-hidden":"true"}},[e._v("\n            "+e._s(t.desc)+"\n          ")]):e._e()])])})),0):e._e()])])}),[],!1,null,"50c18170",null);t.default=l.exports},2136:function(e,t,i){"use strict";i.r(t);var s=i(1),r=i.n(s),n=i(80),c=i(0),a=i(43),o=i(15),l=i(11),u=i(5),p=i(742),d=i(1469),h=i(2),m=i(25);function f(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function v(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?f(Object(i),!0).forEach((function(t){r()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):f(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var b={},y={components:{hd:n.default,ServiceList:d.default},mixins:[c.n,c.l],data:function(){return{isFirstLoad:!1,type:0,nickName:"",headUrl:"",userName:"",localAccTitle:"",randNum:parseInt(1e7*Math.random()),loadingCardNum:1,desc:"",serviceList:[],tags:[],isPreShow:!1,isResultShow:!1,isFetching:!1}},computed:v(v({},Object(m.c)({selfBase:function(e){return e.result.self.base}})),{},{isShow:function(){return!!this.nickName&&(this.isFirstLoad?this.isPreShow:this.isResultShow)},isFirstLoadPreShow:function(){return this.isFirstLoad&&this.isPreShow},title:function(){var e={5:"最近访问过的公众号",19:"最近使用过的小程序",31:"最近访问过的视频号"}[this.type];return this.localAccTitle||e},resultType:function(){return{5:2,19:1,31:1}[this.type]||0},businessType:function(){return{5:1,19:262208,31:33554434}[this.type]||0},loadingCardList:function(){return new Array(this.loadingCardNum).fill("")},accReportId:function(){return"".concat(this.userName,":").concat({5:"biz",19:"weapp",31:"finder"}[this.type]||"",":").concat(this.randNum)},boxReportId:function(){return"0:0"},docReportId:function(){return"0:1"},data:function(){return{boxID:"",resultType:this.resultType,real_type:this.businessType,type:this.businessType,subType:5}},item:function(){return{boxID:""}}}),created:function(){this.isFirstLoad=this.selfBase.isLoading,this.getAccInfo(),c.a.$on(c.k.handleResult,this.finish),c.a.$on(c.k.getResult,this.mockFetching)},methods:{getAccInfo:function(){try{var e=c.b.localAccExtParams.find((function(e){return"localAccInfo"===e.key}));if(e){var t=JSON.parse(e.textValue),i=t.type,s=t.nickName,r=t.headUrl,n=t.username,a=t.title,u=void 0===a?"":a,p=t.version,d=t.isPreShow,h=void 0!==d&&d;if(c.b.query===this.nickName&&0===c.b.type)return;if(c.b.query===s&&0===c.b.type){this.type=i,this.nickName=s,this.headUrl=r,this.userName=n,this.localAccTitle=u,this.isPreShow=2!==p||h,this.isResultShow=2===p,this.makeReport25032({actionType:2e3,itemInfos:[this.accReportId]}),this.makeReport25032({actionType:2004,itemInfos:[this.accReportId],isKvReport:!0});var m=l.a.state.result,f={isexpose:1,searchid:c.b.searchId,query:c.b.query,reqbusinesstype:c.b.type,parentsearchid:c.b.parentSearchID,ishomepage:c.b.isHomePage,sessionid:c.b.sessionId,scene:c.b.scene,pageNo:l.a.state.result.self.base.currentPage,requestid:m.doneRequestId||m.previousRid,resultType:"".concat(this.businessType,":0"),resultsubtypelist:"".concat(this.businessType,":0")};console.warn("test",f),Object(o.e)(f),this.getAccExtInfo()}else this.type=0,this.nickName="",this.headUrl="",this.userName="",this.localAccTitle="",this.isPreShow=!1,this.isResultShow=!1}}catch(v){}},makeReport25032:function(e){this.type,Object(a.a)(v(v({},c.b.getBase()),{},{actionType:e.actionType,requestId:this.$store.state.result.previousRid,businessType:this.businessType,resultSubType:5,boxInfo:this.boxReportId,docInfos:[this.docReportId],resultType:this.resultType,showType:u.b.LOCAL_ACC_PRE_SHOW_BOX,itemInfos:e.itemInfos||[],itemPoses:[0],pageNumber:1,extInfo:e.extInfo||"{}",isKvReport:e.isKvReport}))},tap:function(){try{var e={};switch(this.type){case 5:e={basicInfo:{UserName:this.userName,NickName:this.nickName},jumpType:h.h.jumpType.BIZ,userName:this.userName,opType:h.c.bizSession};break;case 19:e={jumpType:h.h.jumpType.WE_APP,userName:this.userName};break;case 31:e={jumpType:h.h.jumpType.VIDEO_ACC_PROFILE,userName:this.userName}}this.M_go(e),this.M_clickReport({jumpInfo:e,cardExtInfo:{clickBoxLoc:this.getClickBoxLoc(),clickLocation:"".concat(Math.floor(c.b.curClickPoi.clickX),"_").concat(Math.floor(c.b.curClickPoi.clickY),"_").concat(c.b.getScreenWidth(),"_").concat(c.b.getScreenHeight())}},{boxReportId:this.boxReportId,docInfos:this.docReportId,reportId:this.accReportId})}catch(t){}},finish:function(){this.isFirstLoad=!1,this.isFetching=!1,this.getAccInfo()},mockFetching:function(){this.isFetching=!0},getAccExtInfo:function(){var e=this;if([5,19].includes(this.type)&&this.isResultShow&&this.userName){if(b[this.userName]){var t=b[this.userName],i=t.desc,s=void 0===i?"":i,r=t.serviceList,n=void 0===r?[]:r,c=t.titleTag,a=(void 0===c?{}:c).append,o=void 0===a?{}:a;return this.tags=o instanceof Array?o:[o],this.serviceList=n,this.desc=s,void this.makeReport25032({actionType:2001,itemInfos:n.map((function(e){return e&&e._reportId||""}))})}Object(p.a)({type:100,ext:JSON.stringify({username:this.userName})}).then((function(t){if(t&&t.data){var i=t.data,s=i.desc,r=void 0===s?"":s,n=i.serviceList,c=void 0===n?[]:n,a=i.titleTag,o=(void 0===a?{}:a).append,l=void 0===o?{}:o;c.forEach((function(e){e._reportId=e.reportId,delete e.reportId})),e.tags=l instanceof Array?l:[l],e.serviceList=c,e.desc=r,b[e.userName]=Object.assign({},t.data),e.makeReport25032({actionType:2001,itemInfos:c.map((function(e){return e&&e._reportId||""}))})}}))}},onTapService:function(e,t){var i=this.M_getJumpActionType(e);this.M_clickReport(v(v({},e),{},{cardExtInfo:{clickBoxLoc:this.getClickBoxLoc(),clickLocation:"".concat(Math.floor(c.b.curClickPoi.clickX),"_").concat(Math.floor(c.b.curClickPoi.clickY),"_").concat(c.b.getScreenWidth(),"_").concat(c.b.getScreenHeight())}}),{actionType:i,boxReportId:this.boxReportId,docInfos:this.docReportId,reportId:e._reportId})},getClickBoxLoc:function(){var e,t,i,s,r=this.$el,n=window.pageYOffset||document.documentElement.scrollTop,c=r.getBoundingClientRect();return e=Math.floor(c.x),t=Math.floor(c.y+n),i=Math.floor(c.width),s=Math.floor(c.height),"".concat(e,"_").concat(t,"_").concat(i,"_").concat(s)}}},g=(i(3462),i(4)),I=Object(g.a)(y,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isShow?i("div",{staticClass:"local-acc-pre-show-card-wrap",class:{"after-get-search-data":!e.isFirstLoad&&e.isResultShow}},[i("div",{staticClass:"local-acc-pre-show-card"},[i("hd",{attrs:{d:{title:e.title}}}),i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"local-account active__absolute",on:{click:e.tap}},[i("div",{staticClass:"account-header",attrs:{role:"link"}},[e.isResultShow?i("div",{directives:[{name:"image",rawName:"v-image:avatar",value:e.headUrl||"",expression:"headUrl || ''",arg:"avatar"}],staticClass:"account-header-icon"}):i("div",{directives:[{name:"image",rawName:"v-image:raw",value:e.headUrl||"",expression:"headUrl || ''",arg:"raw"}],staticClass:"account-header-icon"}),i("div",{staticClass:"header-text"},[i("div",{staticClass:"header-title-container",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"header-title"},[i("em",{staticClass:"highlight"},[e._v(e._s(e.nickName))])]),e.tags?i("ui-tags",{attrs:{"aria-hidden":"true",tags:e.tags,flex:""}}):e._e()],1),e.serviceList&&e.isResultShow?i("div",{staticClass:"local-acc-animation-wrap",class:{"start-local-acc-animation":e.serviceList.length}},[e.serviceList&&e.serviceList.length?i("service-list",{attrs:{item:{serviceList:e.serviceList,title:e.nickName,desc:e.desc,bordered:!0}},on:{"tap-service":e.onTapService}}):e._e()],1):e._e()])])])],1),e.isFirstLoadPreShow?i("div",{staticClass:"loading-feed-wrap"},[e.isResultShow?e._l(e.loadingCardList,(function(t,s){return i("div",{key:s,staticClass:"local-acc-pre-show-card"},[e._m(0,!0)])})):e._e(),e._m(1)],2):e._e()]):e._e()}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"card-loading-wrap"},[t("span",{staticClass:"circle-loading"}),t("span",[this._v("搜索中")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"loading-wrap"},[t("span",{staticClass:"circle-loading"}),t("span",[this._v("搜索中")])])}],!1,null,"1014dedc",null);t.default=I.exports},302:function(e,t,i){},3039:function(e,t,i){"use strict";i(332)},332:function(e,t,i){},3462:function(e,t,i){"use strict";i(976)},485:function(e,t,i){"use strict";function s(e){return!!e.jumpInfo||(!!e.jumpType||!(!e.userName&&!e.jumpUrl))}i.d(t,"a",(function(){return s}))},495:function(e,t,i){"use strict";var s=i(15),r=i(29),n=i(10),c=i(0),a=new n.a({normal:1,service:2,biz:3,weapp:4,link:5,section:6,menu:7,cards:8}),o=new n.a({service:1,biz:2,weapp:3,link:4,section:5,menu:6,cards:7}),l={data:function(){return{clickZone:a,boxType:o}},mixins:[c.n],methods:{handleProviderJump:function(e){var t={},i=this,s=e.action;if(s)if(1===s.providers.length){var r=s.providers[0];t=r,i.M_serviceSearchGo(r),i.clickReport(e)(r)}else t=s,i.$store.commit({type:"updateActionSheet",title:s.title,desc:s.desc,sub:s.sub,tags:s.tags||s.recommendTag,titleTag:s.titleTag,sheets:s.providers,clickCallback:i.clickReport(e),exposeCallback:i.exposeReport(e)});else t=e,i.M_serviceSearchGo(e);return t},getType:function(e){return e.userName&&e.weappUrl?2:e.jumpUrl?3:1},getClickType:function(e){return e.fromActionSheet?2:1},clickReport:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;return function(i){Object(s.d)(r.a.hospitalRegister,[t.getType(i),i.title,i.userName||i.jumpUrl,+new Date,c.b.searchId,i.pos||1,i.clickType||t.getClickType(i),2,c.b.sessionId,t.item.docID,c.b.query,e.title||""])}},exposeReport:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;return function(i){var n=i.reduce((function(e,i,s){return e.type.push(t.getType(i)),e.title.push(i.title),e.appid.push(i.userName||i.jumpUrl),e.pos.push(s+1),e}),{type:[],title:[],appid:[],pos:[]});Object(s.d)(r.a.hospitalRegister,[n.type.join("|"),n.title.join("|"),n.appid.join("|"),+new Date,c.b.searchId,n.pos.join("|"),2,1,c.b.sessionId,t.item.docID,c.b.query,e.title||""])}}}};t.a=l},586:function(e,t,i){"use strict";i(302)},599:function(e,t,i){"use strict";var s={name:"UiFrontTextEllipsis",props:{list:{type:Array,required:!0},index:{type:Number,default:0}}},r=(i(586),i(4)),n=Object(r.a)(s,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui-front-text-ellipsis"},e._l(e.list,(function(t,s){return i("span",{directives:[{name:"xss-html",rawName:"v-xss-html",value:t,expression:"word"}],key:t,class:{"ui-primary":e.index===s},attrs:{role:"option"}})})),0)}),[],!1,null,"42ac8289",null).exports;n.install=function(e){e.component(n.name,n)};t.a=n},742:function(e,t,i){"use strict";var s=i(1),r=i.n(s),n=i(0);function c(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function a(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?c(Object(i),!0).forEach((function(t){r()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}t.a=function(e){return n.i.getCommonCgiData({cgiName:"SearchGlobalEduCommApi",data:a({searchId:"",sessionId:n.b.sessionId,scene:n.b.scene,device:n.b.device,H5Version:n.b.version,clientVersion:n.b.wechatVersion,type:1,query:""},e)})}},976:function(e,t,i){}}]);